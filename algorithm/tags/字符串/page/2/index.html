<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-algorithm">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">58 篇博文 含有标签「字符串」 | D9笔记</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://whilconn.github.io/algorithm/tags/字符串/page/2/"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="58 篇博文 含有标签「字符串」 | D9笔记"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/avatar.png"><link data-rh="true" rel="canonical" href="https://whilconn.github.io/algorithm/tags/字符串/page/2/"><link data-rh="true" rel="alternate" href="https://whilconn.github.io/algorithm/tags/字符串/page/2/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://whilconn.github.io/algorithm/tags/字符串/page/2/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="D9笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="D9笔记 Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/algorithm/rss.xml" title="D9笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/algorithm/atom.xml" title="D9笔记 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.c670e1bb.css">
<link rel="preload" href="/assets/js/runtime~main.032a218c.js" as="script">
<link rel="preload" href="/assets/js/main.cde00abb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent__EBl" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_wgfI"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.png" alt="D9笔记" class="themedImage_Ma8U themedImage--light_bRiH"><img src="/img/avatar.png" alt="D9笔记" class="themedImage_Ma8U themedImage--dark_FGN8"></div><b class="navbar__title text--truncate">D9笔记</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/portals/">导航</a><a class="navbar__item navbar__link" href="/blog/">博客</a><a class="navbar__item navbar__link" href="/algorithm/archive/">算法题解</a><div class="toggle_aJXW colorModeToggle_jjVx"><button class="clean-btn toggleButton_GOfG toggleButtonDisabled_hrwL" type="button" disabled="" title="切换浅色/暗黑模式（当前为暗黑模式）" aria-label="切换浅色/暗黑模式（当前为暗黑模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_XjdL"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_dbHk"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_iFVH"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_gmiV"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_JwN5 thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_J0Oq margin-bottom--md">最新文章</div><ul class="sidebarItemList_xZD3 clean-list"><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/1807.替换字符串中的括号内容/">1807.替换字符串中的括号内容</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/2283.判断一个数的数字计数是否等于数位的值/">2283.判断一个数的数字计数是否等于数位的值</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/753.破解保险箱/">753.破解保险箱</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/1806.还原排列的最少操作步数/">1806.还原排列的最少操作步数</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/2185.统计包含给定前缀的字符串/">2185.统计包含给定前缀的字符串</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/1658.将 x 减到 0 的最小操作数/">1658.将 x 减到 0 的最小操作数</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/2180.统计各位数字之和为偶数的整数个数/">2180.统计各位数字之和为偶数的整数个数</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/1802.有界数组中指定下标处的最大值/">1802.有界数组中指定下标处的最大值</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/2042.检查句子中的数字是否递增/">2042.检查句子中的数字是否递增</a></li><li class="sidebarItem_nkfF"><a class="sidebarItemLink_FDAB" href="/algorithm/1801.积压订单中的订单总数/">1801.积压订单中的订单总数</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>58 篇博文 含有标签「字符串」</h1><a href="/algorithm/tags/">查看所有标签</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/792.匹配子序列的单词数/">792.匹配子序列的单词数</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-11-17T00:00:00.000Z" itemprop="datePublished">2022年11月17日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给定字符串 <code>s</code> 和字符串数组 <code>words</code>, 返回  <em><code>words[i]</code> 中是<code>s</code>的子序列的单词个数</em> 。</p><p>字符串的 <strong>子序列</strong> 是从原始字符串中生成的新字符串，可以从中删去一些字符(可以是none)，而不改变其余字符的相对顺序。</p><ul><li>例如， <code>“ace”</code> 是 <code>“abcde”</code> 的子序列。</li></ul><p><strong>示例 1:</strong></p><blockquote><p><strong>输入:</strong>  s = &quot;abcde&quot;, words = <!-- -->[<!-- -->&quot;a&quot;,&quot;bb&quot;,&quot;acd&quot;,&quot;ace&quot;<!-- -->]<br>
<strong>输出:</strong>  3<br>
<strong>解释:</strong>  有三个是 s 的子序列的单词: &quot;a&quot;, &quot;acd&quot;, &quot;ace&quot;。<br></p></blockquote><blockquote><p><strong>Example 2:</strong> <br></p></blockquote><blockquote><p><strong>输入:</strong>  s = &quot;dsahjpjauf&quot;, words = <!-- -->[<!-- -->&quot;ahjpjau&quot;,&quot;ja&quot;,&quot;ahbwzgqnuk&quot;,&quot;tnmlanowax&quot;<!-- -->]<br>
<strong>输出:</strong>  2<br></p></blockquote><p><strong>提示:</strong></p><ul><li><code>1 &lt;= s.length &lt;= 5 * 10^4</code></li><li><code>1 &lt;= words.length &lt;= 5000</code></li><li><code>1 &lt;= words[i].length &lt;= 50</code></li><li><code>words[i]</code>和 s 都只由小写字母组成。</li></ul><p>​​​​</p><blockquote><p>Problem: <a href="https://leetcode.cn/problems/number-of-matching-subsequences/description/" target="_blank" rel="noopener noreferrer">792. 匹配子序列的单词数</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2思路">2、思路<a class="hash-link" href="#2思路" title="标题的直接链接">​</a></h2><p>二分查找</p><ul><li>按字母表顺序把字符串 <code>s</code> 中所有字符的下标升序存入二维数组 <code>idxMatrix</code></li><li>判断数组 <code>words</code> 中任意字符串 <code>w</code> 是否 <code>s</code> 的子序列，只需要判断 <code>w</code> 中任意字符 <code>c</code> 比前一个字符 在 <code>s</code> 中的下标更大。其中查找 <code>c</code> 在 <code>s</code> 中的下标时，使用二分查找算法</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3code">3、Code<a class="hash-link" href="#3code" title="标题的直接链接">​</a></h2><div class="language-TypeScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function numMatchingSubseq(s: string, words: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const CA = &#x27;a&#x27;.charCodeAt(0), idxMatrix = new Array(26).fill(0).map(() =&gt; []);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; s.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const ci = s[i].charCodeAt(0) - CA;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        idxMatrix[ci].push(i);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function find(nums: number[] = [], k: number) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let l = 0, r = nums.length - 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        while (l &lt;= r) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const m = ((l + r) / 2) &gt;&gt; 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (nums[m] &gt; k) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (nums[m - 1] &gt; k) r = m - 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                else return nums[m];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                l = m + 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return -1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let res = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loop: for (const w of words) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let preIdx = -1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const c of w) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const ci = c.charCodeAt(0) - CA;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const ni = find(idxMatrix[ci], preIdx);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (ni &lt; 0) continue loop;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            preIdx = ni;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4复杂度">4、复杂度<a class="hash-link" href="#4复杂度" title="标题的直接链接">​</a></h2><ul><li>时间复杂度：$O(n*logn)$</li><li>空间复杂度：$O(n)$</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="5执行结果">5、执行结果<a class="hash-link" href="#5执行结果" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://pic.leetcode.cn/1668654713-oGYEIy-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字典树/">字典树</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/哈希表/">哈希表</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/排序/">排序</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/791.自定义字符串排序/">791.自定义字符串排序</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-11-13T00:00:00.000Z" itemprop="datePublished">2022年11月13日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给定两个字符串 <code>order</code> 和 <code>s</code> 。<code>order</code> 的所有字母都是 <strong>唯一</strong> 的，并且以前按照一些自定义的顺序排序。</p><p>对 <code>s</code> 的字符进行置换，使其与排序的 <code>order</code> 相匹配。更具体地说，如果在 <code>order</code> 中的字符 <code>x</code> 出现字符 <code>y</code> 之前，那么在排列后的字符串中， <code>x</code> 也应该出现在 <code>y</code> 之前。</p><p>返回 <em>满足这个性质的 <code>s</code> 的任意一种排列</em> 。</p><p><strong>示例 1:</strong></p><blockquote><p><strong>输入:</strong>  order = &quot;cba&quot;, s = &quot;abcd&quot;<br>
<strong>输出:</strong>  &quot;cbad&quot;<br>
<strong>解释:</strong>  <br>
“a”、“b”、“c”是按顺序出现的，所以“a”、“b”、“c”的顺序应该是“c”、“b”、“a”。<br>
因为“d”不是按顺序出现的，所以它可以在返回的字符串中的任何位置。“dcba”、“cdba”、“cbda”也是有效的输出。<br></p></blockquote><p><strong>示例 2:</strong></p><blockquote><p><strong>输入:</strong>  order = &quot;cbafg&quot;, s = &quot;abcd&quot;<br>
<strong>输出:</strong>  &quot;cbad&quot;<br></p></blockquote><p><strong>提示:</strong></p><ul><li><code>1 &lt;= order.length &lt;= 26</code></li><li><code>1 &lt;= s.length &lt;= 200</code></li><li><code>order</code> 和 <code>s</code> 由小写英文字母组成</li><li><code>order</code> 中的所有字符都 <strong>不同</strong></li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/custom-sort-string/description/" target="_blank" rel="noopener noreferrer">791. 自定义字符串排序</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2思路">2、思路<a class="hash-link" href="#2思路" title="标题的直接链接">​</a></h2><p>数量级比较小 <code>order.length &lt;= 26</code>，<code>s.length &lt;= 200</code>，用 <code>Array.sort</code> 实现就行</p><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3code">3、Code<a class="hash-link" href="#3code" title="标题的直接链接">​</a></h2><div class="language-TypeScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function customSortString(o: string, s: string): string {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [...s].sort((a, b) =&gt; o.indexOf(a) - o.indexOf(b)).join(&#x27;&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4复杂度">4、复杂度<a class="hash-link" href="#4复杂度" title="标题的直接链接">​</a></h2><ul><li>时间复杂度：$O(nlogn)$</li><li>空间复杂度：$O(n)$</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="5执行结果">5、执行结果<a class="hash-link" href="#5执行结果" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://pic.leetcode.cn/1668316390-HyBPsh-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/哈希表/">哈希表</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/排序/">排序</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/1684.统计一致字符串的数目/">1684.统计一致字符串的数目</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-11-08T00:00:00.000Z" itemprop="datePublished">2022年11月8日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给你一个由不同字符组成的字符串 <code>allowed</code> 和一个字符串数组 <code>words</code> 。如果一个字符串的每一个字符都在 <code>allowed</code> 中，就称这个字符串是 <strong>一致字符串</strong> 。</p><p>请你返回 <code>words</code> 数组中 <strong>一致字符串</strong> 的数目。</p><p><strong>示例 1：</strong></p><blockquote><p><strong>输入：</strong> allowed = &quot;ab&quot;, words = <!-- -->[<!-- -->&quot;ad&quot;,&quot;bd&quot;,&quot;aaab&quot;,&quot;baa&quot;,&quot;badab&quot;<!-- -->]<br>
<strong>输出：</strong> 2<br>
<strong>解释：</strong> 字符串 &quot;aaab&quot; 和 &quot;baa&quot; 都是一致字符串，因为它们只包含字符 &#x27;a&#x27; 和 &#x27;b&#x27; 。<br></p></blockquote><p><strong>示例 2：</strong></p><blockquote><p><strong>输入：</strong> allowed = &quot;abc&quot;, words = <!-- -->[<!-- -->&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;ab&quot;,&quot;ac&quot;,&quot;bc&quot;,&quot;abc&quot;<!-- -->]<br>
<strong>输出：</strong> 7<br>
<strong>解释：</strong> 所有字符串都是一致的。<br></p></blockquote><p><strong>示例 3：</strong></p><blockquote><p><strong>输入：</strong> allowed = &quot;cad&quot;, words = <!-- -->[<!-- -->&quot;cc&quot;,&quot;acd&quot;,&quot;b&quot;,&quot;ba&quot;,&quot;bac&quot;,&quot;bad&quot;,&quot;ac&quot;,&quot;d&quot;<!-- -->]<br>
<strong>输出：</strong> 4<br>
<strong>解释：</strong> 字符串 &quot;cc&quot;，&quot;acd&quot;，&quot;ac&quot; 和 &quot;d&quot; 是一致字符串。<br></p></blockquote><p><strong>提示：</strong></p><ul><li><code>1 &lt;= words.length &lt;= 10^4</code></li><li><code>1 &lt;= allowed.length &lt;= 26</code></li><li><code>1 &lt;= words[i].length &lt;= 10</code></li><li><code>allowed</code> 中的字符 <strong>互不相同</strong> 。</li><li><code>words[i]</code> 和 <code>allowed</code> 只包含小写英文字母。</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/count-the-number-of-consistent-strings/description/" target="_blank" rel="noopener noreferrer">1684. 统计一致字符串的数目</a></p></blockquote><p>[TOC]</p><h1>思路</h1><p>reduce 跟 for of 耗费的时间空间差距还挺大</p><h1>Code - for of</h1><div class="language-TypeScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function countConsistentStrings(allowed: string, words: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const dict = new Set(allowed);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let res = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loop: for (const s of words) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const c of s) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!dict.has(c)) continue loop;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://pic.leetcode.cn/1667872347-pBpBlZ-image.png" alt="image.png" class="img_jWLO"></p><h1>Code - reduce</h1><div class="language-TypeScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function countConsistentStrings(allowed: string, words: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const dict = new Set(allowed);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return words.reduce((a, s) =&gt; a + +([].every.call(s, (c) =&gt; dict.has(c))), 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://pic.leetcode.cn/1667872378-HSPaHP-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/位运算/">位运算</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/数组/">数组</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/哈希表/">哈希表</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/816.模糊坐标/">816.模糊坐标</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-11-07T00:00:00.000Z" itemprop="datePublished">2022年11月7日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>我们有一些二维坐标，如 <code>&quot;(1, 3)&quot;</code> 或 <code>&quot;(2, 0.5)&quot;</code>，然后我们移除所有逗号，小数点和空格，得到一个字符串<code>S</code>。返回所有可能的原始字符串到一个列表中。</p><p>原始的坐标表示法不会存在多余的零，所以不会出现类似于&quot;00&quot;, &quot;0.0&quot;, &quot;0.00&quot;, &quot;1.0&quot;, &quot;001&quot;, &quot;00.01&quot;或一些其他更小的数来表示坐标。此外，一个小数点前至少存在一个数，所以也不会出现“.1”形式的数字。</p><p>最后返回的列表可以是任意顺序的。而且注意返回的两个数字中间（逗号之后）都有一个空格。</p><p><strong>示例 1:</strong></p><blockquote><p><strong>输入:</strong>  &quot;(123)&quot;<br>
<strong>输出:</strong>  <!-- -->[<!-- -->&quot;(1, 23)&quot;, &quot;(12, 3)&quot;, &quot;(1.2, 3)&quot;, &quot;(1, 2.3)&quot;<!-- -->]<br></p></blockquote><p><strong>示例 2:</strong></p><blockquote><p><strong>输入:</strong>  &quot;(00011)&quot;<br>
<strong>输出:</strong>   <!-- -->[<!-- -->&quot;(0.001, 1)&quot;, &quot;(0, 0.011)&quot;<!-- -->]<br>
<strong>解释:</strong>  <br>
0.0, 00, 0001 或 00.01 是不被允许的。<br></p></blockquote><p><strong>示例 3:</strong></p><blockquote><p><strong>输入:</strong>  &quot;(0123)&quot;<br>
<strong>输出:</strong>  <!-- -->[<!-- -->&quot;(0, 123)&quot;, &quot;(0, 12.3)&quot;, &quot;(0, 1.23)&quot;, &quot;(0.1, 23)&quot;, &quot;(0.1, 2.3)&quot;, &quot;(0.12, 3)&quot;<!-- -->]<br></p></blockquote><p><strong>示例 4:</strong></p><blockquote><p><strong>输入:</strong>  &quot;(100)&quot;<br>
<strong>输出:</strong>  <!-- -->[<!-- -->(10, 0)<!-- -->]<br>
<strong>解释:</strong>  <br>
1.0 是不被允许的。<br></p></blockquote><p><strong>提示:</strong></p><ul><li><code>4 &lt;= S.length &lt;= 12</code>.</li><li><code>S[0]</code> = &quot;(&quot;, <code>S[S.length - 1]</code> = &quot;)&quot;, 且字符串 <code>S</code> 中的其他元素都是数字。</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/ambiguous-coordinates/description/" target="_blank" rel="noopener noreferrer">816. 模糊坐标</a></p></blockquote><p>[TOC]</p><h1>思路</h1><ul><li>剔除原始字符串 <code>s</code> 中的括号</li><li>将 <code>s</code> 拆分成两个字符串 <code>s1</code>、<code>s2</code></li><li>分别对 <code>s1</code>、<code>s2</code> 添加小数点，得到两个字符串数组 <code>nums1</code>、<code>nums2</code></li><li>组合 <code>nums1</code>、<code>nums2</code> 中的字符串得到最终结果</li></ul><h1>复杂度</h1><ul><li>时间复杂度：$O(n^3)$</li><li>空间复杂度：$O(n^3)$</li></ul><h1>Code</h1><div class="language-TypeScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function ambiguousCoordinates(s: string): string[] {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s = s.slice(1, s.length - 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const res = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function insertDot(str: string) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const nums = /^0\d/.test(str) ? [] : [str];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = 1; j &lt; str.length; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const ns = str.slice(0, j) + &#x27;.&#x27; + str.slice(j);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!/^0\d|0$/.test(ns)) nums.push(ns);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return nums;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 1; i &lt; s.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const s1 = s.slice(0, i), s2 = s.slice(i);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const nums1 = insertDot(s1), nums2 = insertDot(s2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const ns1 of nums1) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            for (const ns2 of nums2) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                res.push(`(${ns1}, ${ns2})`);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/回溯/">回溯</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/1106.解析布尔表达式/">1106.解析布尔表达式</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-11-06T00:00:00.000Z" itemprop="datePublished">2022年11月6日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给你一个以字符串形式表述的 <a href="https://baike.baidu.com/item/%E5%B8%83%E5%B0%94%E8%A1%A8%E8%BE%BE%E5%BC%8F/1574380?fr=aladdin" target="_blank" rel="noopener noreferrer">布尔表达式</a>（boolean） <code>expression</code>，返回该式的运算结果。</p><p>有效的表达式需遵循以下约定：</p><ul><li><code>&quot;t&quot;</code>，运算结果为 <code>True</code></li><li><code>&quot;f&quot;</code>，运算结果为 <code>False</code></li><li><code>&quot;!(expr)&quot;</code>，运算过程为对内部表达式 <code>expr</code> 进行逻辑 <strong>非的运算</strong>（NOT）</li><li><code>&quot;&amp;(expr1,expr2,...)&quot;</code>，运算过程为对 2 个或以上内部表达式 <code>expr1, expr2, ...</code> 进行逻辑 <strong>与的运算</strong>（AND）</li><li><code>&quot;|(expr1,expr2,...)&quot;</code>，运算过程为对 2 个或以上内部表达式 <code>expr1, expr2, ...</code> 进行逻辑 <strong>或的运算</strong>（OR）</li></ul><p><strong>示例 1：</strong></p><blockquote><p><strong>输入：</strong> expression = &quot;!(f)&quot;<br>
<strong>输出：</strong> true<br></p></blockquote><p><strong>示例 2：</strong></p><blockquote><p><strong>输入：</strong> expression = &quot;|(f,t)&quot;<br>
<strong>输出：</strong> true<br></p></blockquote><p><strong>示例 3：</strong></p><blockquote><p><strong>输入：</strong> expression = &quot;&amp;(t,f)&quot;<br>
<strong>输出：</strong> false<br></p></blockquote><p><strong>示例 4：</strong></p><blockquote><p><strong>输入：</strong> expression = &quot;|(&amp;(t,f,t),!(t))&quot;<br>
<strong>输出：</strong> false<br></p></blockquote><p><strong>提示：</strong></p><ul><li><code>1 &lt;= expression.length &lt;= 20000</code></li><li><code>expression[i]</code> 由 <code>{&#x27;(&#x27;, &#x27;)&#x27;, &#x27;&amp;&#x27;, &#x27;|&#x27;, &#x27;!&#x27;, &#x27;t&#x27;, &#x27;f&#x27;, &#x27;,&#x27;}</code> 中的字符组成。</li><li><code>expression</code> 是以上述形式给出的有效表达式，表示一个布尔值。</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/parsing-a-boolean-expression/description/" target="_blank" rel="noopener noreferrer">1106. 解析布尔表达式</a></p></blockquote><p>[TOC]</p><h1>思路</h1><p>使用正则不断提取最小表达式进行计算，再将该表达式替换为计算结果。其中最小表达式就是题干中给出的3种情况：<code>&quot;!(expr)&quot;</code>，<code>&quot;&amp;(expr1,expr2,...)&quot;</code>，<code>&quot;|(expr1,expr2,...)&quot;</code></p><h1>代码</h1><div class="language-TypeScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function parseBoolExpr(exp: string): boolean {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const T = &quot;t&quot;, F = &quot;f&quot;, reg = /.\([^()]+\)/g;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    while (reg.test(exp)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        exp = exp.replace(reg, (m) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (m[0] === &quot;&amp;&quot;) return m.includes(F) ? F : T;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (m[0] === &quot;|&quot;) return m.includes(T) ? T : F;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return m.includes(T) ? F : T;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return exp.includes(T);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>结果</h1><p><img loading="lazy" src="https://pic.leetcode.cn/1667728233-zxPoXv-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/栈/">栈</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/递归/">递归</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/481.神奇字符串/">481.神奇字符串</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-10-31T00:00:00.000Z" itemprop="datePublished">2022年10月31日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>神奇字符串 <code>s</code> 仅由 <code>&#x27;1&#x27;</code> 和 <code>&#x27;2&#x27;</code> 组成，并需要遵守下面的规则：</p><ul><li>神奇字符串 s 的神奇之处在于，串联字符串中 <code>&#x27;1&#x27;</code> 和 <code>&#x27;2&#x27;</code> 的连续出现次数可以生成该字符串。</li></ul><p><code>s</code> 的前几个元素是 <code>s = &quot;1221121221221121122……&quot;</code> 。如果将 <code>s</code> 中连续的若干 <code>1</code> 和 <code>2</code> 进行分组，可以得到 <code>&quot;1 22 11 2 1 22 1 22 11 2 11 22 ......&quot;</code> 。每组中 <code>1</code> 或者 <code>2</code> 的出现次数分别是 <code>&quot;1 2 2 1 1 2 1 2 2 1 2 2 ......&quot;</code> 。上面的出现次数正是 <code>s</code> 自身。</p><p>给你一个整数 <code>n</code> ，返回在神奇字符串 <code>s</code> 的前 <code>n</code> 个数字中 <code>1</code> 的数目。</p><p><strong>示例 1：</strong></p><blockquote><p><strong>输入：</strong> n = 6<br>
<strong>输出：</strong> 3<br>
<strong>解释：</strong> 神奇字符串 s 的前 6 个元素是 “<code>122112</code>”，它包含三个 1，因此返回 3 。 <br></p></blockquote><p><strong>示例 2：</strong></p><blockquote><p><strong>输入：</strong> n = 1<br>
<strong>输出：</strong> 1<br></p></blockquote><p><strong>提示：</strong></p><ul><li><code>1 &lt;= n &lt;= 10^5</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2解题思路">2、解题思路<a class="hash-link" href="#2解题思路" title="标题的直接链接">​</a></h2><p>题目要求计算神奇字符串 <code>s</code> 的前 <code>n</code> 个数字中 <code>1</code> 的数目，只需要按照规则模拟构造神奇字符串，再计算 <code>1</code> 的数量即可。</p><p>构造过程借助双指针实现，快指针 <code>i</code> 逐步递增，慢指针 <code>cur</code> 根据其可消耗次数 <code>count</code> 决定是否递增，每次 <code>i</code> 递增做以下计算：</p><ul><li>若当前字符是 <code>1</code>，则最终结果累计一次</li><li>计算出第 <code>i+1</code> 个字符，<strong>第 <code>i+1</code> 个字符只有两种情况，要么跟第 <code>i</code> 个字符相同，要么不同</strong><ul><li>当前仅当慢指针 <code>cur</code> 对应的字符是 <code>2</code> 且 第 <code>i-1</code> 和 <code>i</code> 个字符不同时，第 <code>i</code> 和 <code>i+1</code> 个字符相同</li><li>其他情况第 <code>i</code> 和 <code>i+1</code> 个字符不同</li></ul></li><li>可消耗次数 <code>count</code> 减 <code>1</code></li><li>若可消耗次数 <code>count</code> 次数为 <code>0</code>，那么慢指针 <code>cur</code> 加 <code>1</code>，<code>count</code> 赋值为慢指针指向的新数字</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3代码">3、代码<a class="hash-link" href="#3代码" title="标题的直接链接">​</a></h2><div class="language-typescript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-typescript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">magicalString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> nums </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name builtin" style="color:rgb(189, 147, 249)">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">fill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> cur </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> res</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">--</span><span class="token plain">count </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">++</span><span class="token plain">cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4复杂度">4、复杂度<a class="hash-link" href="#4复杂度" title="标题的直接链接">​</a></h2><ul><li>时间复杂度：$O(n)$</li><li>空间复杂度：$O(n)$</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="5执行结果">5、执行结果<a class="hash-link" href="#5执行结果" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://pic.leetcode.cn/1667200832-PZuZCs-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/双指针/">双指针</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/面试题 01.05.一次编辑/">面试题 01.05.一次编辑</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-05-13T00:00:00.000Z" itemprop="datePublished">2022年5月13日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>字符串有三种编辑操作:插入一个英文字符、删除一个英文字符或者替换一个英文字符。 给定两个字符串，编写一个函数判定它们是否只需要一次(或者零次)编辑。</p><p><strong>示例 1:</strong></p><p><strong>输入:</strong>
first = &quot;pale&quot;
second = &quot;ple&quot;
<strong>输出:</strong> True</p><p><strong>示例 2:</strong></p><p><strong>输入:</strong>
first = &quot;pales&quot;
second = &quot;pal&quot;
<strong>输出:</strong> False</p><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2解题思路">2、解题思路<a class="hash-link" href="#2解题思路" title="标题的直接链接">​</a></h2><p>顺序遍历统计左半边相同字符总数 <code>sl</code>，倒序遍历统计右半边相同字符总数 <code>sr</code>，两字符串最大长度与 <code>sl + sr</code> 之差不大于 $1$ 则返回 <code>true</code>，否则返回 <code>false</code>。</p><br><blockquote><p>两个字符串长度差值大于 $1$ 则直接返回 <code>false</code>，这一前置判断可有可无</p></blockquote><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3代码">3、代码<a class="hash-link" href="#3代码" title="标题的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-javascript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">oneEditAway</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">first</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">abs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> sl </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> m </span><span class="token operator">=</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> n </span><span class="token operator">=</span><span class="token plain"> second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sl</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> m </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> n </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> sl </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> j</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sr</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> sl </span><span class="token operator">-</span><span class="token plain"> sr </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4执行结果">4、执行结果<a class="hash-link" href="#4执行结果" title="标题的直接链接">​</a></h2><ul><li>执行用时: 64 ms</li><li>内存消耗: 42.7 MB</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/双指针/">双指针</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/2055.蜡烛之间的盘子/">2055.蜡烛之间的盘子</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-03-08T00:00:00.000Z" itemprop="datePublished">2022年3月8日</time> · <!-- -->阅读需 5 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给你一个长桌子，桌子上盘子和蜡烛排成一列。给你一个下标从 <strong>0</strong> 开始的字符串 <code>s</code> ，它只包含字符 <code>&#x27;*&#x27;</code> 和 <code>&#x27;|&#x27;</code> ，其中 <code>&#x27;*&#x27;</code> 表示一个 <strong>盘子</strong> ，<code>&#x27;|&#x27;</code> 表示一支 <strong>蜡烛</strong> 。</p><p>同时给你一个下标从 <strong>0</strong> 开始的二维整数数组 <code>queries</code> ，其中 <code>queries[i] = [lefti, righti]</code> 表示 <strong>子字符串</strong> <code>s[lefti...righti]</code> （<strong>包含左右端点的字符</strong>）。对于每个查询，你需要找到 <strong>子字符串中</strong> 在 <strong>两支蜡烛之间</strong> 的盘子的 <strong>数目</strong> 。如果一个盘子在 <strong>子字符串中</strong> 左边和右边 <strong>都</strong> 至少有一支蜡烛，那么这个盘子满足在 <strong>两支蜡烛之间</strong> 。</p><ul><li>比方说，<code>s = &quot;||**||**|*&quot;</code> ，查询 <code>[3, 8]</code> ，表示的是子字符串 <code>&quot;*||**_**_**|&quot;</code> 。子字符串中在两支蜡烛之间的盘子数目为 <code>2</code> ，子字符串中右边两个盘子在它们左边和右边 <strong>都</strong> 至少有一支蜡烛。</li></ul><p>请你返回一个整数数组 <code>answer</code> ，其中 <code>answer[i]</code> 是第 <code>i</code> 个查询的答案。</p><p><strong>示例 1:</strong></p><blockquote><p><img loading="lazy" src="https://assets.leetcode.com/uploads/2021/10/04/ex-1.png" alt="ex-1" class="img_jWLO"><br></p></blockquote><blockquote><p><strong>输入：</strong> s = &quot;<!-- -->*<!-- -->*<!-- -->|<!-- -->*<!-- -->*<!-- -->|<!-- -->*<!-- -->*<!-- -->*<!-- -->|&quot;, queries = <!-- -->[<!-- -->[<!-- -->2,5<!-- -->]<!-- -->,<!-- -->[<!-- -->5,9<!-- -->]<!-- -->]<br>
<strong>输出：</strong> <!-- -->[<!-- -->2,3<!-- -->]<br>
<strong>解释：</strong> <br></p><ul><li>queries<!-- -->[<!-- -->0<!-- -->]<!-- --> 有两个盘子在蜡烛之间。<br></li><li>queries<!-- -->[<!-- -->1<!-- -->]<!-- --> 有三个盘子在蜡烛之间。<br></li></ul></blockquote><p><strong>示例 2:</strong></p><blockquote><p><img loading="lazy" src="https://assets.leetcode.com/uploads/2021/10/04/ex-2.png" alt="ex-2" class="img_jWLO"><br></p></blockquote><blockquote><p><strong>输入：</strong> s = &quot;<!-- -->*<!-- -->*<!-- -->*<!-- -->|<!-- -->*<!-- -->*<!-- -->|<!-- -->*<!-- -->*<!-- -->*<!-- -->*<!-- -->*<!-- -->|<!-- -->*<!-- -->*<!-- -->||<!-- -->*<!-- -->*<!-- -->|<!-- -->*<!-- -->&quot;, queries = <!-- -->[<!-- -->[<!-- -->1,17<!-- -->]<!-- -->,<!-- -->[<!-- -->4,5<!-- -->]<!-- -->,<!-- -->[<!-- -->14,17<!-- -->]<!-- -->,<!-- -->[<!-- -->5,11<!-- -->]<!-- -->,<!-- -->[<!-- -->15,16<!-- -->]<!-- -->]<br>
<strong>输出：</strong> <!-- -->[<!-- -->9,0,0,0,0<!-- -->]<br>
<strong>解释：</strong> <br></p><ul><li>queries<!-- -->[<!-- -->0<!-- -->]<!-- --> 有 9 个盘子在蜡烛之间。<br></li><li>另一个查询没有盘子在蜡烛之间。<br></li></ul></blockquote><p><strong>提示：</strong></p><ul><li><code>3 &lt;= s.length &lt;= 10^5</code></li><li><code>s</code> 只包含字符 <code>&#x27;*&#x27;</code> 和 <code>&#x27;|&#x27;</code> 。</li><li><code>1 &lt;= queries.length &lt;= 10^5</code></li><li><code>queries[i].length == 2</code></li><li><code>0 &lt;= lefti &lt;= righti &lt; s.length</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2解题思路">2、解题思路<a class="hash-link" href="#2解题思路" title="标题的直接链接">​</a></h2><p>按题目意思要查找任意区间 <code>[i,j]</code> 内两支蜡烛之间的盘子数量，要解决两个核心问题：</p><ul><li>1、查找区间 <code>[i,j]</code> 内最左边和最右边蜡烛的下标 <code>[l,r]</code></li><li>2、求出区间 <code>[l,r]</code> 内的蜡烛数量</li></ul><br><p><strong>问题1采用区间映射解决</strong>，使用二维数组 <code>ranges</code> 存储离任意下标 <code>i</code> 最近的左右蜡烛下标，形如 <code>ranges[i] = [li,ri]</code>。对于任意区间 <code>[i,j]</code> 内最左边和最右边蜡烛的下标为 <code>l = ranges[i][1], r = ranges[j][0]</code></p><p><strong>特殊情况</strong> :</p><ul><li>左边没有蜡烛时有 <code>ranges[i] = [-1,ri]</code></li><li>右边没有蜡烛时有 <code>ranges[i] = [li,s.length]</code></li><li>该位置是蜡烛时有 <code>ranges[i] = [i,i]</code></li></ul><br><p><strong>问题2采用前缀和解决</strong>，使用数组 <code>sumList</code> 存储蜡烛数量前缀和，对于任意下标 <code>i</code> 而言 <code>sumList[i]</code> 表示 <code>s[0]</code> 到 <code>s[i]</code> 之间的蜡烛数量。对于任意区间 <code>[l,r]</code> 内的蜡烛数量为 <code>sumList[r] - sumList[l]</code></p><br><p>至此两个核心问题都得以解决，且都能在 $O(1)$ 时间复杂度内求出正解</p><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3代码">3、代码<a class="hash-link" href="#3代码" title="标题的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-javascript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">platesBetweenCandles</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">s</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> queries</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> n </span><span class="token operator">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sumList </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ranges </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> ps </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> range </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;*&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ps </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ranges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ranges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            range </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sumList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> ps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> queries</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token parameter">i</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> j</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> l </span><span class="token operator">=</span><span class="token plain"> ranges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> r </span><span class="token operator">=</span><span class="token plain"> ranges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> l </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> r </span><span class="token operator">&lt;</span><span class="token plain"> n </span><span class="token operator">&amp;&amp;</span><span class="token plain"> l </span><span class="token operator">&lt;</span><span class="token plain"> r </span><span class="token operator">?</span><span class="token plain"> sumList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> sumList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4复杂度">4、复杂度<a class="hash-link" href="#4复杂度" title="标题的直接链接">​</a></h2><ul><li>时间复杂度：$O(n)$</li><li>空间复杂度：$O(n)$</li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="5执行结果">5、执行结果<a class="hash-link" href="#5执行结果" title="标题的直接链接">​</a></h2><ul><li>执行用时: 308 ms</li><li>内存消耗: 86.1 MB</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/数组/">数组</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/二分查找/">二分查找</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/前缀和/">前缀和</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/301.删除无效的括号/">301.删除无效的括号</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-03-03T00:00:00.000Z" itemprop="datePublished">2022年3月3日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给你一个由若干括号和字母组成的字符串 <code>s</code> ，删除最小数量的无效括号，使得输入的字符串有效。</p><p>返回所有可能的结果。答案可以按 <strong>任意顺序</strong> 返回。</p><p><strong>示例 1：</strong></p><blockquote><p><strong>输入：</strong> s = &quot;()())()&quot;<br>
<strong>输出：</strong> <!-- -->[<!-- -->&quot;(())()&quot;,&quot;()()()&quot;<!-- -->]<br></p></blockquote><p><strong>示例 2：</strong></p><blockquote><p><strong>输入：</strong> s = &quot;(a)())()&quot;<br>
<strong>输出：</strong> <!-- -->[<!-- -->&quot;(a())()&quot;,&quot;(a)()()&quot;<!-- -->]<br></p></blockquote><p><strong>示例 3：</strong></p><blockquote><p><strong>输入：</strong> s = &quot;)(&quot;<br>
<strong>输出：</strong> <!-- -->[<!-- -->&quot;&quot;<!-- -->]<br></p></blockquote><p><strong>提示：</strong></p><ul><li><code>1 &lt;= s.length &lt;= 25</code></li><li><code>s</code> 由小写英文字母以及括号 <code>&#x27;(&#x27;</code> 和 <code>&#x27;)&#x27;</code> 组成</li><li><code>s</code> 中至多含 <code>20</code> 个括号</li></ul><blockquote><p>深圳阿里Lazada笔试题T4，30min钟4道题，这道题没时间写</p></blockquote><p><img loading="lazy" src="https://pic.leetcode-cn.com/1646279675-guHHZD-1d58c1fc375efb4172fc38ed625cfb94.gif" alt="1d58c1fc375efb4172fc38ed625cfb94.gif" class="img_jWLO"></p><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2解题思路">2、解题思路<a class="hash-link" href="#2解题思路" title="标题的直接链接">​</a></h2><p>回溯+剪枝枚举所有可行的情况，遍历过程中判断合法子串只需要判断已选子串长度不为0且左括号被消耗完即 <code>lc=0</code>，详细逻辑见注释</p><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3代码">3、代码<a class="hash-link" href="#3代码" title="标题的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-javascript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">removeInvalidParentheses</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 初始状态：字符串下标i，已选字符数组chars，左括号数量lc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">backtrace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">i</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> chars</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> lc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 合法子串，比较长度并填入最终结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">lc </span><span class="token operator">&amp;&amp;</span><span class="token plain"> chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">join</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">lc </span><span class="token operator">&amp;&amp;</span><span class="token plain"> chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">join</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 下标越界，遍历结束</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i </span><span class="token operator">&gt;=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 遍历所有待选字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> c </span><span class="token operator">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 剪枝：存在无法配对的右括号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;)&#x27;</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">lc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">continue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 剪枝：1、左括号比剩余子串更长；2、已选子串长度加上未遍历子串长度还是小于结果子串的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">lc </span><span class="token operator">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> j </span><span class="token operator">||</span><span class="token plain"> chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 选择当前字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 递归搜索</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token function" style="color:rgb(80, 250, 123)">backtrace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;(&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> lc </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;)&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> lc </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> lc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 撤销选择</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            chars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">pop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 初始状态：字符串下标i为-1，已选字符数组chars为空数组，左括号数量lc为0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">backtrace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token spread operator">...</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4执行结果">4、执行结果<a class="hash-link" href="#4执行结果" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://pic.leetcode-cn.com/1646278088-eHkTgi-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/广度优先搜索/">广度优先搜索</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/回溯/">回溯</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_mBgL" itemprop="headline"><a itemprop="url" href="/algorithm/564.寻找最近的回文数/">564.寻找最近的回文数</a></h2><div class="container_hz_z margin-vert--md"><time datetime="2022-03-02T00:00:00.000Z" itemprop="datePublished">2022年3月2日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_uuk1"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="1题干">1、题干<a class="hash-link" href="#1题干" title="标题的直接链接">​</a></h2><p>给定一个表示整数的字符串 <code>n</code> ，返回与它最近的回文整数（不包括自身）。如果不止一个，返回较小的那个。</p><p>“最近的”定义为两个整数<strong>差的绝对值</strong>最小。</p><p><strong>示例 1:</strong></p><blockquote><p><strong>输入:</strong>  n = &quot;123&quot;<br>
<strong>输出:</strong>  &quot;121&quot;<br></p></blockquote><p><strong>示例 2:</strong></p><blockquote><p><strong>输入:</strong>  n = &quot;1&quot;<br>
<strong>输出:</strong>  &quot;0&quot;<br>
<strong>解释:</strong>  0 和 2是最近的回文，但我们返回最小的，也就是 0。<br></p></blockquote><p><strong>提示:</strong></p><ul><li><code>1 &lt;= n.length &lt;= 18</code></li><li><code>n</code> 只由数字组成</li><li><code>n</code> 不含前导 0</li><li><code>n</code> 代表在 <code>[1, 10^18 - 1]</code> 范围内的整数</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="2解题思路">2、解题思路<a class="hash-link" href="#2解题思路" title="标题的直接链接">​</a></h2><ul><li>找到中轴并提取中轴前的数字作为前半段，计算前半段数字加1、减1、不变3种情况的结果</li><li>根据3种计算结果推导3个回文数，对进位导致位数增加、借位导致位数减少、前导0等情况分别进行处理<ul><li>若进位导致位数增加，求得 <code>10...01</code> 形式的回文数</li><li>若借位导致位数减少或出现前导0的情况，求得 <code>99...99</code> 形式的回文数</li><li>否则将前半段翻转作为后半段（原数字长度为奇数的需要剔除中轴），求得前后两段拼接而成的回文数</li></ul></li><li>在3个回文数中找到与 <code>n</code> 的差值的绝对值最小的数，若存在多个则取较小那个数，最后返回该数</li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="3代码">3、代码<a class="hash-link" href="#3代码" title="标题的直接链接">​</a></h2><div class="language-JavaScript codeBlockContainer_u9qM theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_jm0m"><pre tabindex="0" class="prism-code language-JavaScript codeBlock_Tj6U thin-scrollbar"><code class="codeBlockLines_k4aa"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var nearestPalindromic = function (n) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const len = n.length, m = Math.floor((len - 1) / 2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const s1 = n.slice(0, m + 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const reverse = (s) =&gt; [].reduce.call(s, (a, c) =&gt; c + a, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const nums = [`${+s1 + 1}`, s1, `${+s1 - 1}`].map((a) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (a.length &gt; m + 1) return `1${&#x27;0&#x27;.repeat(len - 1)}1`;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (a.length &lt;= m || (a === &#x27;0&#x27; &amp;&amp; len === 2)) return &#x27;9&#x27;.repeat(len - 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return a + (len % 2 ? reverse(a).slice(1) : reverse(a));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const diffs = nums.map((d) =&gt; BigInt(d) - BigInt(n)).map((d) =&gt; (d &gt; 0 ? d : -d));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const minDiff = diffs.reduce((a, c, i) =&gt; (c &amp;&amp; c &lt;= a[0] ? [c, i] : a), [Infinity, -1]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return nums[minDiff[1]];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_oe9o"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_cRWi" aria-hidden="true"><svg class="copyButtonIcon_u5rO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_rKVj" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><h2 class="anchor anchorWithHideOnScrollNavbar_KW95" id="4执行结果">4、执行结果<a class="hash-link" href="#4执行结果" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://pic.leetcode-cn.com/1646230083-FbRosJ-image.png" alt="image.png" class="img_jWLO"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_zFUd padding--none margin-left--sm"><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/数学/">数学</a></li><li class="tag_G89Y"><a class="tag_uJPw tagRegular_Wsjd" href="/algorithm/tags/字符串/">字符串</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/algorithm/tags/字符串/"><div class="pagination-nav__label">较新的博文</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/algorithm/tags/字符串/page/3/"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Whilconn. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.032a218c.js"></script>
<script src="/assets/js/main.cde00abb.js"></script>
</body>
</html>