<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-algorithm">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Blog | D9笔记</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://whilconn.github.io/algorithm/page/26/"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="Blog | D9笔记"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/avatar.png"><link data-rh="true" rel="canonical" href="https://whilconn.github.io/algorithm/page/26/"><link data-rh="true" rel="alternate" href="https://whilconn.github.io/algorithm/page/26/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://whilconn.github.io/algorithm/page/26/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="D9笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="D9笔记 Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/algorithm/rss.xml" title="D9笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/algorithm/atom.xml" title="D9笔记 Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f62d8806.css">
<link rel="preload" href="/assets/js/runtime~main.f85ed2fe.js" as="script">
<link rel="preload" href="/assets/js/main.696e9f67.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.png" alt="D9笔记" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avatar.png" alt="D9笔记" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">D9笔记</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">首页</a><a class="navbar__item navbar__link" href="/portals/">导航</a><a class="navbar__item navbar__link" href="/blog/">博客</a><a class="navbar__item navbar__link" href="/algorithm/archive/">算法题解</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为暗黑模式）" aria-label="切换浅色/暗黑模式（当前为暗黑模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">最新文章</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/12/01/2661.找出叠涂元素/">2661.找出叠涂元素</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/30/1657.确定两个字符串是否接近/">1657.确定两个字符串是否接近</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/29/2336.无限集中的最小数字/">2336.无限集中的最小数字</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/28/106.从中序与后序遍历序列构造二叉树/">106.从中序与后序遍历序列构造二叉树</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/21/2216.美化数组的最少删除数/">2216.美化数组的最少删除数</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/17/88.合并两个有序数组/">88.合并两个有序数组</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/16/2760.最长奇偶子数组/">2760.最长奇偶子数组</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/15/2656.K 个元素的最大和/">2656.K 个元素的最大和</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/15/58.最后一个单词的长度/">58.最后一个单词的长度</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/11/14/100.相同的树/">100.相同的树</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/16/LCR 028.扁平化多级双向链表/">LCR 028.扁平化多级双向链表</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-16T00:00:00.000Z" itemprop="datePublished">2021年12月16日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>多级双向链表中，除了指向下一个节点和前一个节点指针之外，它还有一个子链表指针，可能指向单独的双向链表。这些子列表也可能会有一个或多个自己的子项，依此类推，生成多级数据结构，如下面的示例所示。</p><p>给定位于列表第一级的头节点，请扁平化列表，即将这样的多级双向链表展平成普通的双向链表，使所有结点出现在单级双链表中。</p><p> </p><p><strong>示例 1：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]<br><strong>输出：</strong>[1,2,3,7,8,11,12,9,10,4,5,6]<br><strong>解释：<br></strong><br>输入的多级列表如下图所示：<br><br><img loading="lazy" src="/assets/images/a46509d486c2eefc8029ec8d460e5e40-ea7fd37d8b759e9f238043c2f730fabd.png" class="img_ev3q"><br><br>扁平化后的链表如下图：<br><br><img loading="lazy" src="/assets/images/ffb3b8eca8dfe19fb56a844752b321bf-ee9e1b62416bf219ae957cf65e71802c.png" class="img_ev3q"><br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [1,2,null,3]<br><strong>输出：</strong>[1,3,2]<br><strong>解释：<br><br></strong>输入的多级列表如下图所示：<br><br>  1---2---NULL<br>  |<br>  3---NULL<br></code></pre><p><strong>示例 3：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = []<br><strong>输出：</strong>[]<br></code></pre><p> </p><p><strong>如何表示测试用例中的多级链表？</strong></p><p>以 <strong>示例 1</strong> 为例：</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"> 1---2---3---4---5---6--NULL<br>         |<br>         7---8---9---10--NULL<br>             |<br>             11--12--NULL</code></pre><p>序列化其中的每一级之后：</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv">[1,2,3,4,5,6,null]<br>[7,8,9,10,null]<br>[11,12,null]<br></code></pre><p>为了将每一级都序列化到一起，我们需要每一级中添加值为 null 的元素，以表示没有节点连接到上一级的上级节点。</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv">[1,2,3,4,5,6,null]<br>[null,null,7,8,9,10,null]<br>[null,11,12,null]<br></code></pre><p>合并所有序列化结果，并去除末尾的 null 。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">9</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">11</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">12</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p> </p><p><strong>提示：</strong></p><ul><li>节点数目不超过 <code>1000</code></li><li><code>1 &lt;= Node.val &lt;= 10^5</code></li></ul><p> </p><p></p><meta charset="UTF-8">注意：本题与主站 430 题相同： <a href="https://leetcode-cn.com/problems/flatten-a-multilevel-doubly-linked-list/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/flatten-a-multilevel-doubly-linked-list/</a><p></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行结果">执行结果<a href="#执行结果" class="hash-link" aria-label="执行结果的直接链接" title="执行结果的直接链接">​</a></h3><p><img loading="lazy" alt="1.png" src="/assets/images/8cf1fed4636133d3349d485a3e8ff43c-2278f99175e6829c02282f2c3507d6d5.png" width="1362" height="510" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><ul><li>使用栈存储后续需要遍历的节点，先压入<code>node.next</code>再压入<code>node.child</code></li><li>当栈内元素不为空时，弹出栈顶元素进行处理</li><li>当前节点属于以下2种情况需特殊处理（代码中的<code>link()</code>函数）：<ul><li>1、<code>child</code>有值：将当前节点与子节点转成兄弟节点，并将当前节点的<code>child</code>置位空</li><li>2、<code>next</code>和<code>child</code>为空值：将当前节点与栈顶节点转成兄弟节点，并将当前节点的<code>child</code>置位空</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">flatten</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">link</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">cur</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">prev</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stack </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node </span><span class="token operator">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">pop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/深度优先搜索/">深度优先搜索</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/链表/">链表</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/双向链表/">双向链表</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/16/LCR 029.循环有序列表的插入/">LCR 029.循环有序列表的插入</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-16T00:00:00.000Z" itemprop="datePublished">2021年12月16日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>给定<strong>循环单调非递减列表</strong>中的一个点，写一个函数向这个列表中插入一个新元素 <code>insertVal</code> ，使这个列表仍然是循环升序的。</p><p>给定的可以是这个列表中任意一个顶点的指针，并不一定是这个列表中最小元素的指针。</p><p>如果有多个满足条件的插入位置，可以选择任意一个位置插入新的值，插入后整个列表仍然保持有序。</p><p>如果列表为空（给定的节点是 <code>null</code>），需要创建一个循环有序列表并返回这个节点。否则。请返回原先给定的节点。</p><p> </p><p><strong>示例 1：</strong></p><p><img loading="lazy" alt="" src="data:image/jpeg;base64,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BRGnPrzUH2pP9uolbqI059eag+1J/t1Egt0REBERAREQEREBERAREQEREBERAREQEREBRGlHq7Ivam8fqnq3URpR6uyL2pvH6p6C3REQEREBERAREQEREBERAURpz681B9qT/bqJW6iNOfXmoPtSf7dRILdERAREQEREBERAREQEREBERAREQEREBERAURpR6uyL2pvH6p6t1EaUersi9qbx+qegt0REBERAREQEREBERAREQFEac+vNQfak/wBuolbqI059eag+1J/t1Egt0REBERAREQEREBERAREQEREBERAREQEREBRGlHq7Ivam8fqnq1e9kbHSSPDWNBc5zjsAB2klRGlD2eY5HHxt4xlF3cW789vOn89kFyiIgIiICIiAiIgIiIC8K2torbSTV9xq4aWlp2GSWeeQMjjaO1znHkAPxKwclyOixi2G4VcM9TLJI2npKOmaHT1lQ77kMTXEAudsebiGtAc5zmta5w0dFgz71VQ3/UUUtzuMTxLTUDHOkt1uI5tETHgCaRv+vIwPJ3LWxA8ADyOqtrri4YpjOSZK1vbLbrf0cDv/AGT1LooZP6HuU7iV/wAzx655PW3fR3LGQXy9faNO6Gotkxji81p4dpGsqy4O4oXHZocNiOe/JdYRBM2HUXFMhrxZ6etnorqWlwt1ypJaKqIA3cWxTNa54H8TOJvfvtzVMtdfsdsWUW91qyG00twpHObJ0VRGHBr282vbvza9p5tcNnNPMEFTkVZcdP6uCgvVfU3HHKuZsFJcKl5knt0jjsyGpkcd5I3OIYyY7vBLRIXE8aC0REQEREBERAREQEREBERAREQEREBYtzulsstBPdbzcaWgoqZvHNU1MzYoom/i57iA0fmSsHJ8lgxukhf5rLW11dMKWgoYCOlqpyCeFu5AADWue5x5Na1zj2LV2vBmVVdT5LnEsN6vcD+mpg5pNJbXdzaWJ3Jrhz3mcDK7d3NreGNoay46iWTJrdVWy0YHkuW26shfTVAgtghpZ4ntLXNElY6GOVhaSCWOc3ntuuEeSZohXeSzRZa2r07zm61GQ3eSWmrpKigq3UdojLvM6LZtW5+8bXvLuBuxc/lvsCvrZEE5j2oOJ5NWG12+4vhuTWl7rfXU0tHVho7XdDM1ry0bj0gCOY58wqNavIcYsGVUTaDILXDWRRvEkRdu2SGQdkkcjSHx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" class="img_ev3q"><br> </p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [3,4,1], insertVal = 2<br><strong>输出：</strong>[3,4,1,2]<br><strong>解释：</strong>在上图中，有一个包含三个元素的循环有序列表，你获得值为 3 的节点的指针，我们需要向表中插入元素 2 。新插入的节点应该在 1 和 3 之间，插入之后，整个列表如上图所示，最后返回节点 3 。<br><br><img loading="lazy" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCACqAR4DASIAAhEBAxEB/8QAHQABAQACAwEBAQAAAAAAAAAAAAYFBwIDBAgBCf/EAEUQAAEEAgEDAAUGCQsDBQAAAAEAAgMEBQYRBxIhExcxQVcIFCIyUZEVFjVSYXaV0dQjJjNCU2JxgYK0tSRjgzhydKHB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP6p+xRH4wbLvQ50KzVx+Cd4/D88Xpn2h+dShPDXsPuneSw+C1krSHJsHG9bLNoRHdgsfAyfP8ey0+TzDRd9rHMDpJW+9hjYeWyuCt0ESej+lXS6TaK93aJX/WdnbklyP/TA4+hj/wBEbVzf0W6QO9H2dL9VhdCOI3wYmCJ7Bzzw1zGgjz58FWaIIn8QcxrrTPoG3X6paQRjsxPLkqMg97QZH+nh+wFkna3+zcB2rL67tJy1mfC5fHOxWcpt77FJ8npGPj54E0EnAE0RPsdwHDkB7WO+is+sFtmst2GnFNTsClmMc82MXfDe41p+OPI/rRuH0Xs5Hc0kcg8OAZ1FhNN2QbXgIMrJVNS21z616oXdxq24nFk0RPv7XtcA7j6TeHDwQs2gIiICIiAiIgIiICIiAiIgIiIOEssUET555WRxxtL3ve4BrWgckkn2ABRgym3byA/VbA1/AvPAys9cSXbjPz6sMg7ImH+rLM1/dwSIi0skdxyDWdQNrta5M0Sa5rrozkWe1l++4CSOu77YomFkj2/13SRAnhkjHXCCI9TehWx3bLjJ9nmd5dJn7UmQBP8AdjlJijH92NjW/oXOTot0ieQ+PpnrNeRrQ1stXGQ15WgDgcPja1w493B8K0RBEfiRsetD0+h7Zccxnk4rPWZb1WQfmtneXWIT9jg57Rz/AEbvHGb1vaYc86zj7VKbG5jH9ovY+f68Xdz2SMd7JYX9ruyRvg9rmntex7G5xTu467Zy0FfMYJ8dfYcP6SbGWH+GuLm8Pry8e2CUBrXt9xDHjh8bHNCiRYrVtiqbXr9LP045Im2mH0kEn9JXma4slhePc+ORr2OHuc0hZVAREQEREBERBE9HybulRbRI7vm2izYzrnf9uxIXQN/0QehZ/oVsozos/u6QaUz0IhdDgKED4xzwx8cDGOaOfPgtI/yVmg67FiCpBJatTxwwwsdJJJI4NaxoHJcSfAAHkkrWHR35Qmqdb9i2vG6VQvvxGtfMhXy9iCSCLKtsMe8TVmyMaX1+GjsmBLZOSW8tAc7aa0/06/8AUX1f/wDja7/tZUG4EREEThCcR1V2TDtfzXzVCnnGN/NsN7q03+RZFV9nv7uf02y1ls+Bu7J1gpQUNmy+COP1qZ8s+N9B3y+mtRhjHemikbwPQvI4APn2rLernOfGHd/vx38Igt0UR6uc58Yd3+/HfwiernOfGHd/vx38Igt0UR6uc58Yd3+/HfwiernOfGHd/vx38Igt0UR6uc58Yd3+/HfwiernOfGHd/vx38Igt0UR6uc58Yd3+/HfwiernOfGHd/vx38Igt0UR6uc58Yd3+/HfwiernOfGHd/vx38Igt0UR6uc58Yd3+/HfwiernOfGHd/vx38Igt157l6tSqWrs0g9HTjdJN2kEtDW9x/wA+PP8AmpD1c5z4w7v9+O/hFoTb/kg79k+t+a60VeuuyYvHtwLKDsfQdE2xn3Miee3IFkTIjEC4Ma0Rvf2jkSMPaGh9BdJKk8HTzDXbpDruYhdmbhBJ/wCouPNiQAnzw10paPZ9FoHA44VgsFodqK9o2u3YYwyOxiakrGj2Na6FpA/+1nUGE3TY7OpavkNgpa5k8/ZqRgwYzGxeksWpXENYxoPgAuI5ceGtby4+AVHaX1P3Wxu8fTrqpoWL1rNX8ZJl8Y/DZ2TL07MET2RzsfLJVrPimY6WM9voy1zX8teSCBR9T+pWpdINEy/UbeMi2lhsLB6aeQkdziSGsY3kgFznFrRyQOT5IHJWoPk/b3086ob5e6h3+sGh7BvuTxhgp61r2y08j+L+IbI15hAhkc6WVzzG6ebjt7uxjeGtBcH0QiIgidQ5xW/bprLXcwyvpbDA3z/JttsfC9g/QZaUsn+Mp/QrZRONBm6z7DIxnDa2tYiNz/z3PtXz2/6Q3n/yK2QEREBERAREQROg9uu5jP6BOS01bcuYxwI4ElG5K+Qhp/7c5nYWj6rfRewParZYDadds5Y1MvhbTKebxTnPpTvBMb2P49JXlA8mKQNb3D3Oax4+kxq5aztlPYmy05q8mOzFINF/F2HD09Yn2O8eHxng9sjeWu4PB5DgAzqIiAiKIyORk6jSS67rtiVmAZIYsvloi5gsBruH06rx9YngslmYeGDuYx3pe50IOnfGeyOf6igl1fPzQ1sW8/1sbWa5sLx9rZJZLMzT72TMPt5VuuuvXgqQR1asEcMMLBHHHG0NaxoHAaAPAAHgALsQEREBERAREQEREBERAREQEREER0x4wVfJdOpz2z6zZd81afAfjJ3vfTe3+61ofBz4+nWk8ccc26nNo1+/as1dl1uSKHO40FsYlcWw3a7iDJVmIBIa7gFrwCY3hruHN743+vW9ox2zV5nVo7FW5TeIr1C2wMs05eOeyRoJHkeWuaXMeOHMc5pDiGYREQFwmlirxPnnlZHHG0ve97gGtaBySSfYAFyc5rGl73BrWjkkngAKHtWHdT5HYrH941Fju2/dHhuX45BrQ+90BP8ASSfVePoN7g57mh29MoZMhVy29WI3sdtl4X6zZG9r2UWxMirAg+W90cfpe0+Q6ZwPnlWi/AA0BrQAAOAB7l+oCIiAiIgIiICwmyabgNrEEmVqPbbqcmperSugt1SfaYpmEPbzwOQD2u44cCPCzaIIk4TqriC5uH3bFZqufqszmN7LDf8AzVnMYR7uPQ8+/n7de9LOvmw9ac7umtaNb0v55oGaOCzLnT2ZwZg3n0kTQ1nMRIkYHFw5dFJx4Acd7SMEjHRuLgHAg9ri0+fsI8j/ABC0l8n/AKI9Kume07xkdC0ulhLFXK/gZslVzwZKgp05gyTlx9K4SOe7vf3P5kf9L6TuQuPV3kc8COou3WM/Xd5fi61ZtHGu/Q6FrnSyt+1ks0jD45bz5VnXrwVII6tWCOGGFgjjjjaGtY0DgNAHgADwAF2IgIiICIiAiIgIiICIiAiIgIiICIiAsBsekYDZ54MhcglrZSo0sq5SlKYLldpPJa2VvksJ4Jjdyx3H0muCz6IIj8EdWsQPRYzccLnYR9U5nGmCz/qlrObG7nx7IW8efbz4xGt7N1i26G9JVo6bim0Mjaxj5JJbVwufBIY3PDA2LwSOQO7nj3rZyiOlH5O2L9acx/unoOTenEua7X9RdmtbMxp7vweYWVcbz+muzkzD+7O+Vo9oAI5VmxjImNiiY1jGANa1o4AA9gAXJEBERAREQEREBERAREQFEdOfy51B/Wk/8dSVuojpz+XOoP60n/jqSC3REQEREBERAREQEREBERAREQEREBERAREQFEdKPydsX605j/dPVuojpR+Tti/WnMf7p6C3REQEREBERAREQEREBERAUR05/LnUH9aT/wAdSVuojpz+XOoP60n/AI6kgt0REBERAREQEREBERAREQEREBERAREQEREBRHSj8nbF+tOY/wB09W6iOlH5O2L9acx/unoLdERAREQEREBERAREQEREBRHTn8udQf1pP/HUlbqI6c/lzqD+tJ/46kgt0REBERAREQEREBERAREQEREBERAREQEREBRHSj8nbF+tOY/3T1aveyNjpJHhrGguc5x4AA9pJUR0oez5jscfe3vG0Zdxbz54+dP88ILlERAREQEREBERAREQF0XbtLG1Jr+Rtw1atdhklnnkDI42j2uc4+AB9pXh2XY6WsYw5C3DPZlkkbXqU6zQ6e5Yd9SGJriAXO4PlxDWgOc5zWtc4YOloz81ahz/AFFFXJ5GJ4lrUGOdJjscR5aImPAE0jf7eRgeTyWtiB7AHUequLvFw1TWdk2VrfbLjsf6OB3/ALJ7LooZP9D3Kd1LP7nr2T2e7l+ju2Mgzma/CNd0NjGTGOL5rXh4kay2XB3dC48NDhwR558LbCIJnA9RdU2G+MPXuz0sqWlwx2SqS0rRAHLi2KZrXPA/OZ3N9/PHlUyx2e13BbRj3YrYcTVyFRzmyeisRhwa9vlr28+WvafLXDhzT5BBU5FcyPT+3BQzV+zkdctzNgqZCy8yT46Rx4ZDZkceZI3OIYyY8vBLRIXE96C0REQEREBERAREQEREBERAREQEREBeXJ5TGYWhPlczkatClWb3zWbMzYoom/a57iA0fpJXh2fZYNbqQv8Amst29emFWhRgI9LanIJ7W8kAANa57nHw1rXOPsWLxejMtXq+y7xLDms3A/01YOaTUxrvc2rE7w1w88zOBldy7y1vbG0MZkeomE2bHWsZiND2XbcdchfWsCDGCGrPE9pa5okuOhjlYWkgljnN88crRHyTOiF75LNLbW2+ne85WxsOXklrXpLFC26niIy75nS4bbc/mNr3l3Y3guf454BX1siCc17q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" class="img_ev3q"><br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [], insertVal = 1<br><strong>输出：</strong>[1]<br><strong>解释：</strong>列表为空（给定的节点是 <code>null</code>），创建一个循环有序列表并返回这个节点。<br></code></pre><p><strong>示例 3：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [1], insertVal = 0<br><strong>输出：</strong>[1,0]<br></code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>0 &lt;= Number of Nodes &lt;= 5 * 10^4</code></li><li><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><font face="monospace">-10^6 &lt;= Node.val &lt;= 10^6</font></code></pre></li><li><code>-10^6 &lt;= insertVal &lt;= 10^6</code></li></ul><p> </p><p></p><meta charset="UTF-8">注意：本题与主站 708 题相同： <a href="https://leetcode-cn.com/problems/insert-into-a-sorted-circular-linked-list/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/insert-into-a-sorted-circular-linked-list/</a><p></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行结果">执行结果<a href="#执行结果" class="hash-link" aria-label="执行结果的直接链接" title="执行结果的直接链接">​</a></h3><p><img loading="lazy" alt="1.png" src="/assets/images/669e55a10f61e12983bff92685cefdc1-20cb8a9ecd8f58eaedb3b70da44d66c0.png" width="1360" height="508" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><ul><li>1、head为空，创建一个新链表返回即可</li><li>2、head不为空，在中间位置（即<code>node.next.val &gt;= insertVal &gt;= node.val</code>）插入新节点</li><li>3、head不为空，没有中间位置，则遍历一轮找到最大值节点，在最大值节点后方插入新节点</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">insert</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">head</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> maxNode </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> maxNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> maxNode </span><span class="token operator">=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">val </span><span class="token operator">&gt;=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> val </span><span class="token operator">&lt;=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">head </span><span class="token operator">===</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> maxNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        node </span><span class="token operator">=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> head </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/链表/">链表</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/16/剑指 Offer II 028.展平多级双向链表/">剑指 Offer II 028.展平多级双向链表</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-16T00:00:00.000Z" itemprop="datePublished">2021年12月16日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>多级双向链表中，除了指向下一个节点和前一个节点指针之外，它还有一个子链表指针，可能指向单独的双向链表。这些子列表也可能会有一个或多个自己的子项，依此类推，生成多级数据结构，如下面的示例所示。</p><p>给定位于列表第一级的头节点，请扁平化列表，即将这样的多级双向链表展平成普通的双向链表，使所有结点出现在单级双链表中。</p><p> </p><p><strong>示例 1：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]<br><strong>输出：</strong>[1,2,3,7,8,11,12,9,10,4,5,6]<br><strong>解释：<br></strong><br>输入的多级列表如下图所示：<br><br><img loading="lazy" src="/assets/images/a46509d486c2eefc8029ec8d460e5e40-ea7fd37d8b759e9f238043c2f730fabd.png" class="img_ev3q"><br><br>扁平化后的链表如下图：<br><br><img loading="lazy" src="/assets/images/ffb3b8eca8dfe19fb56a844752b321bf-ee9e1b62416bf219ae957cf65e71802c.png" class="img_ev3q"><br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [1,2,null,3]<br><strong>输出：</strong>[1,3,2]<br><strong>解释：<br><br></strong>输入的多级列表如下图所示：<br><br>  1---2---NULL<br>  |<br>  3---NULL<br></code></pre><p><strong>示例 3：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = []<br><strong>输出：</strong>[]<br></code></pre><p> </p><p><strong>如何表示测试用例中的多级链表？</strong></p><p>以 <strong>示例 1</strong> 为例：</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"> 1---2---3---4---5---6--NULL<br>         |<br>         7---8---9---10--NULL<br>             |<br>             11--12--NULL</code></pre><p>序列化其中的每一级之后：</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv">[1,2,3,4,5,6,null]<br>[7,8,9,10,null]<br>[11,12,null]<br></code></pre><p>为了将每一级都序列化到一起，我们需要每一级中添加值为 null 的元素，以表示没有节点连接到上一级的上级节点。</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv">[1,2,3,4,5,6,null]<br>[null,null,7,8,9,10,null]<br>[null,11,12,null]<br></code></pre><p>合并所有序列化结果，并去除末尾的 null 。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">9</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">11</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">12</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p> </p><p><strong>提示：</strong></p><ul><li>节点数目不超过 <code>1000</code></li><li><code>1 &lt;= Node.val &lt;= 10^5</code></li></ul><p> </p><p></p><meta charset="UTF-8">注意：本题与主站 430 题相同： <a href="https://leetcode-cn.com/problems/flatten-a-multilevel-doubly-linked-list/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/flatten-a-multilevel-doubly-linked-list/</a><p></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行结果">执行结果<a href="#执行结果" class="hash-link" aria-label="执行结果的直接链接" title="执行结果的直接链接">​</a></h3><p><img loading="lazy" alt="1.png" src="/assets/images/8cf1fed4636133d3349d485a3e8ff43c-2278f99175e6829c02282f2c3507d6d5.png" width="1362" height="510" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><ul><li>使用栈存储后续需要遍历的节点，先压入<code>node.next</code>再压入<code>node.child</code></li><li>当栈内元素不为空时，弹出栈顶元素进行处理</li><li>当前节点属于以下2种情况需特殊处理（代码中的<code>link()</code>函数）：<ul><li>1、<code>child</code>有值：将当前节点与子节点转成兄弟节点，并将当前节点的<code>child</code>置位空</li><li>2、<code>next</code>和<code>child</code>为空值：将当前节点与栈顶节点转成兄弟节点，并将当前节点的<code>child</code>置位空</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">flatten</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">link</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">cur</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">prev</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stack </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node </span><span class="token operator">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">pop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">child</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/深度优先搜索/">深度优先搜索</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/链表/">链表</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/双向链表/">双向链表</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/16/剑指 Offer II 029.排序的循环链表/">剑指 Offer II 029.排序的循环链表</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-16T00:00:00.000Z" itemprop="datePublished">2021年12月16日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>给定<strong>循环单调非递减列表</strong>中的一个点，写一个函数向这个列表中插入一个新元素 <code>insertVal</code> ，使这个列表仍然是循环升序的。</p><p>给定的可以是这个列表中任意一个顶点的指针，并不一定是这个列表中最小元素的指针。</p><p>如果有多个满足条件的插入位置，可以选择任意一个位置插入新的值，插入后整个列表仍然保持有序。</p><p>如果列表为空（给定的节点是 <code>null</code>），需要创建一个循环有序列表并返回这个节点。否则。请返回原先给定的节点。</p><p> </p><p><strong>示例 1：</strong></p><p><img loading="lazy" alt="" src="data:image/jpeg;base64,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BRGnPrzUH2pP9uolbqI059eag+1J/t1Egt0REBERAREQEREBERAREQEREBERAREQEREBRGlHq7Ivam8fqnq3URpR6uyL2pvH6p6C3REQEREBERAREQEREBERAURpz681B9qT/bqJW6iNOfXmoPtSf7dRILdERAREQEREBERAREQEREBERAREQEREBERAURpR6uyL2pvH6p6t1EaUersi9qbx+qegt0REBERAREQEREBERAREQFEac+vNQfak/wBuolbqI059eag+1J/t1Egt0REBERAREQEREBERAREQEREBERAREQEREBRGlHq7Ivam8fqnq1e9kbHSSPDWNBc5zjsAB2klRGlD2eY5HHxt4xlF3cW789vOn89kFyiIgIiICIiAiIgIiIC8K2torbSTV9xq4aWlp2GSWeeQMjjaO1znHkAPxKwclyOixi2G4VcM9TLJI2npKOmaHT1lQ77kMTXEAudsebiGtAc5zmta5w0dFgz71VQ3/UUUtzuMTxLTUDHOkt1uI5tETHgCaRv+vIwPJ3LWxA8ADyOqtrri4YpjOSZK1vbLbrf0cDv/AGT1LooZP6HuU7iV/wAzx655PW3fR3LGQXy9faNO6Gotkxji81p4dpGsqy4O4oXHZocNiOe/JdYRBM2HUXFMhrxZ6etnorqWlwt1ypJaKqIA3cWxTNa54H8TOJvfvtzVMtdfsdsWUW91qyG00twpHObJ0VRGHBr282vbvza9p5tcNnNPMEFTkVZcdP6uCgvVfU3HHKuZsFJcKl5knt0jjsyGpkcd5I3OIYyY7vBLRIXE8aC0REQEREBERAREQEREBERAREQEREBYtzulsstBPdbzcaWgoqZvHNU1MzYoom/i57iA0fmSsHJ8lgxukhf5rLW11dMKWgoYCOlqpyCeFu5AADWue5x5Na1zj2LV2vBmVVdT5LnEsN6vcD+mpg5pNJbXdzaWJ3Jrhz3mcDK7d3NreGNoay46iWTJrdVWy0YHkuW26shfTVAgtghpZ4ntLXNElY6GOVhaSCWOc3ntuuEeSZohXeSzRZa2r07zm61GQ3eSWmrpKigq3UdojLvM6LZtW5+8bXvLuBuxc/lvsCvrZEE5j2oOJ5NWG12+4vhuTWl7rfXU0tHVho7XdDM1ry0bj0gCOY58wqNavIcYsGVUTaDILXDWRRvEkRdu2SGQdkkcjSHx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" class="img_ev3q"><br> </p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [3,4,1], insertVal = 2<br><strong>输出：</strong>[3,4,1,2]<br><strong>解释：</strong>在上图中，有一个包含三个元素的循环有序列表，你获得值为 3 的节点的指针，我们需要向表中插入元素 2 。新插入的节点应该在 1 和 3 之间，插入之后，整个列表如上图所示，最后返回节点 3 。<br><br><img loading="lazy" alt="" src="https://assets.leetcode.com/uploads/2019/01/19/example_1_after_65p.jpg" class="img_ev3q"><br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [], insertVal = 1<br><strong>输出：</strong>[1]<br><strong>解释：</strong>列表为空（给定的节点是 <code>null</code>），创建一个循环有序列表并返回这个节点。<br></code></pre><p><strong>示例 3：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>head = [1], insertVal = 0<br><strong>输出：</strong>[1,0]<br></code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>0 &lt;= Number of Nodes &lt;= 5 * 10^4</code></li><li><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><font face="monospace">-10^6 &lt;= Node.val &lt;= 10^6</font></code></pre></li><li><code>-10^6 &lt;= insertVal &lt;= 10^6</code></li></ul><p> </p><p></p><meta charset="UTF-8">注意：本题与主站 708 题相同： <a href="https://leetcode-cn.com/problems/insert-into-a-sorted-circular-linked-list/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/insert-into-a-sorted-circular-linked-list/</a><p></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行结果">执行结果<a href="#执行结果" class="hash-link" aria-label="执行结果的直接链接" title="执行结果的直接链接">​</a></h3><p><img loading="lazy" alt="1.png" src="/assets/images/669e55a10f61e12983bff92685cefdc1-20cb8a9ecd8f58eaedb3b70da44d66c0.png" width="1360" height="508" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><ul><li>1、head为空，创建一个新链表返回即可</li><li>2、head不为空，在中间位置（即<code>node.next.val &gt;= insertVal &gt;= node.val</code>）插入新节点</li><li>3、head不为空，没有中间位置，则遍历一轮找到最大值节点，在最大值节点后方插入新节点</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">insert</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">head</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> maxNode </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> maxNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> maxNode </span><span class="token operator">=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">val </span><span class="token operator">&gt;=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> val </span><span class="token operator">&lt;=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">head </span><span class="token operator">===</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> maxNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        node </span><span class="token operator">=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> head </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">val</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/链表/">链表</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/14/630.课程表 III/">630.课程表 III</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-14T00:00:00.000Z" itemprop="datePublished">2021年12月14日</time> · <!-- -->阅读需 5 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>这里有 <code>n</code> 门不同的在线课程，按从 <code>1</code> 到 <code>n</code> 编号。给你一个数组 <code>courses</code> ，其中 <code>courses[i] = [duration<sub>i</sub>, lastDay<sub>i</sub>]</code> 表示第 <code>i</code> 门课将会 <strong>持续</strong> 上 <code>duration<sub>i</sub></code> 天课，并且必须在不晚于 <code>lastDay<sub>i</sub></code> 的时候完成。</p><p>你的学期从第 <code>1</code> 天开始。且不能同时修读两门及两门以上的课程。</p><p>返回你最多可以修读的课程数目。</p><p> </p><p><strong>示例 1：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>courses = [[100, 200], [200, 1300], [1000, 1250], [2000, 3200]]<br><strong>输出：</strong>3<br><strong>解释：</strong><br>这里一共有 4 门课程，但是你最多可以修 3 门：<br>首先，修第 1 门课，耗费 100 天，在第 100 天完成，在第 101 天开始下门课。<br>第二，修第 3 门课，耗费 1000 天，在第 1100 天完成，在第 1101 天开始下门课程。<br>第三，修第 2 门课，耗时 200 天，在第 1300 天完成。<br>第 4 门课现在不能修，因为将会在第 3300 天完成它，这已经超出了关闭日期。</code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>courses = [[1,2]]<br><strong>输出：</strong>1<br></code></pre><p><strong>示例 3：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>courses = [[3,2],[4,3]]<br><strong>输出：</strong>0<br></code></pre><p> </p><p><strong>提示:</strong></p><ul><li><code>1 &lt;= courses.length &lt;= 10<sup>4</sup></code></li><li><code>1 &lt;= duration<sub>i</sub>, lastDay<sub>i</sub> &lt;= 10<sup>4</sup></code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2提交结果">2、提交结果<a href="#2提交结果" class="hash-link" aria-label="2、提交结果的直接链接" title="2、提交结果的直接链接">​</a></h2><p>逻辑和代码比优先队列更简洁，执行效率更高。
<img loading="lazy" alt="1.png" src="/assets/images/931885f852af73c0f94c284b40415116-c44d2046fca7d7b20bb5667361ab5b47.png" width="1386" height="524" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3解题思路">3、解题思路<a href="#3解题思路" class="hash-link" aria-label="3、解题思路的直接链接" title="3、解题思路的直接链接">​</a></h2><blockquote><p>破题思路还是看<a href="https://leetcode-cn.com/problems/course-schedule-iii/solution/ke-cheng-biao-iii-by-leetcode-solution-yoyz/" target="_blank" rel="noopener noreferrer">官解</a>。这个题解主要说明如何在保证效率的前提下用更少代码替代优先队列。</p></blockquote><p>每次答优先队列的题都巨难受，因为JS没有优先队列这种数据结构。由于数据范围特征明显<code>1 &lt;= duration[i] &lt;= 1e4</code>，可以用计数排序解这道题，代码比优先队列更简洁。凑巧的是测试用例也比较给力，执行效率比优先队列还好看些。接下来说下如何用计数排序替代优先队列。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="设计思路">设计思路<a href="#设计思路" class="hash-link" aria-label="设计思路的直接链接" title="设计思路的直接链接">​</a></h3><p>优先队列解决的关键问题是快速插入、删除和查找最值。因此我们设计一个名为<code>FPQ</code>的数据结构解决这几个问题，<code>FPQ</code>主要包括的函数和变量是：<code>list</code>、<code>max</code>、<code>constructor()</code>、<code>add()</code>、<code>del()</code></p><ul><li><code>list</code>：元素容器，下标代表待排序的数据，元素值代表下标数字的数量</li><li><code>max</code>：所有元素中的最大值；可直接读取，时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li><li><code>constructor()</code>：构造函数，入参为整数<code>n</code>；时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>；函数逻辑如下：<ul><li>创建一个大小为<code>n+1</code>的数组<code>list</code>，初始化<code>max</code>为0</li></ul></li><li><code>add()</code>：往<code>list</code>中添加元素，入参为整数<code>n</code>；时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>；函数逻辑如下：<ul><li><code>list[n]</code>自加1</li><li>如果 <code>n &gt; max</code>，则将<code>max</code>赋值为<code>n</code></li></ul></li><li><code>del()</code>：删除<code>list</code>中的元素，入参为整数 <code>n</code>；最坏时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>；函数逻辑如下：<ul><li><code>list[n]</code>自减1</li><li>如果 <code>n === max</code> 且 <code>list[n]===0</code>，则需要重新计算最大值</li><li>计算最大值：从下标 <code>n</code> 开始倒序遍历 <code>list</code>，如果<code>list[n]&gt;0</code>，则将<code>max</code>赋值为<code>list[n]</code>并退出遍历</li></ul></li></ul><blockquote><p><code>FPQ</code>的插入方法比优先队列更高效，但删除方法不稳定，其效率可能比优先队列更好也可能更差。另外由于使用计数排序，因此使用场景也很有限。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4代码">4、代码<a href="#4代码" class="hash-link" aria-label="4、代码的直接链接" title="4、代码的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">scheduleCourse</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">sort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> max </span><span class="token operator">=</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">reduce</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">acc</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> acc </span><span class="token operator">?</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> acc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> pq </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">FPQ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> time </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">time </span><span class="token operator">+</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      res</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      time </span><span class="token operator">+=</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> time </span><span class="token operator">+</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      time </span><span class="token operator">+=</span><span class="token plain"> courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">courses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">del</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pq</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">FPQ</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">constructor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">list</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">del</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">-=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">max</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      n</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/贪心/">贪心</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/数组/">数组</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/排序/">排序</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/堆（优先队列）/">堆（优先队列）</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/13/200.岛屿数量/">200.岛屿数量</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-13T00:00:00.000Z" itemprop="datePublished">2021年12月13日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>给你一个由 <code>&#x27;1&#x27;</code>（陆地）和 <code>&#x27;0&#x27;</code>（水）组成的的二维网格，请你计算网格中岛屿的数量。</p><p>岛屿总是被水包围，并且每座岛屿只能由水平方向和/或竖直方向上相邻的陆地连接形成。</p><p>此外，你可以假设该网格的四条边均被水包围。</p><p> </p><p><strong>示例 1：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>grid = [<br>  [&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;0&quot;],<br>  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;],<br>  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],<br>  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;]<br>]<br><strong>输出：</strong>1<br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>grid = [<br>  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],<br>  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],<br>  [&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],<br>  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;]<br>]<br><strong>输出：</strong>3<br></code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>m == grid.length</code></li><li><code>n == grid[i].length</code></li><li><code>1 &lt;= m, n &lt;= 300</code></li><li><code>grid[i][j]</code> 的值为 <code>&#x27;0&#x27;</code> 或 <code>&#x27;1&#x27;</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><ul><li>遍历矩阵<code>grid</code>，以<code>grid[i][j]</code>为起点往上下左右4个方向进行深度遍历</li><li>深度遍历过程中需要注意2点<ul><li>遍历过的节点修改为0，即<code>grid[i][j] = &#x27;0&#x27;</code>，以免重复遍历</li><li><code>grid[i][j]</code>必须在矩阵中且<code>grid[i][j] === &#x27;1&#x27;</code>才累加岛屿数量</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">numIslands</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> dirs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">dfs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">i</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> i </span><span class="token operator">&gt;=</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> j </span><span class="token operator">&gt;=</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">di</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> dj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> dirs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">dfs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> di</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> j </span><span class="token operator">+</span><span class="token plain"> dj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">dfs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> count</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/深度优先搜索/">深度优先搜索</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/广度优先搜索/">广度优先搜索</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/并查集/">并查集</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/数组/">数组</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/矩阵/">矩阵</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/13/207.课程表/">207.课程表</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-13T00:00:00.000Z" itemprop="datePublished">2021年12月13日</time> · <!-- -->阅读需 5 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>你这个学期必须选修 <code>numCourses</code> 门课程，记为 <code>0</code> 到 <code>numCourses - 1</code> 。</p><p>在选修某些课程之前需要一些先修课程。 先修课程按数组 <code>prerequisites</code> 给出，其中 <code>prerequisites[i] = [a<sub>i</sub>, b<sub>i</sub>]</code> ，表示如果要学习课程 <code>a<sub>i</sub></code> 则 <strong>必须</strong> 先学习课程  <code>b<sub>i</sub></code><sub> </sub>。</p><ul><li>例如，先修课程对 <code>[0, 1]</code> 表示：想要学习课程 <code>0</code> ，你需要先完成课程 <code>1</code> 。</li></ul><p>请你判断是否可能完成所有课程的学习？如果可以，返回 <code>true</code> ；否则，返回 <code>false</code> 。</p><p> </p><p><strong>示例 1：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>numCourses = 2, prerequisites = [[1,0]]<br><strong>输出：</strong>true<br><strong>解释：</strong>总共有 2 门课程。学习课程 1 之前，你需要完成课程 0 。这是可能的。</code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>numCourses = 2, prerequisites = [[1,0],[0,1]]<br><strong>输出：</strong>false<br><strong>解释：</strong>总共有 2 门课程。学习课程 1 之前，你需要先完成​课程 0 ；并且学习课程 0 之前，你还应先完成课程 1 。这是不可能的。</code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>1 &lt;= numCourses &lt;= 2000</code></li><li><code>0 &lt;= prerequisites.length &lt;= 5000</code></li><li><code>prerequisites[i].length == 2</code></li><li><code>0 &lt;= a<sub>i</sub>, b<sub>i</sub> &lt; numCourses</code></li><li><code>prerequisites[i]</code> 中的所有课程对 <strong>互不相同</strong></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2解题思路">2、解题思路<a href="#2解题思路" class="hash-link" aria-label="2、解题思路的直接链接" title="2、解题思路的直接链接">​</a></h2><p>题干很长，浓缩下就简单很多：<strong>给一个有向图，判定其中是否有环</strong> 。总的思路是 <code>BFS</code> 或 <code>DFS</code> 遍历整个图，如果存在环则返回 <code>false</code>，否则返回 <code>true</code>。</p><br><ul><li><strong>第一步</strong> ：把先修课程 <code>prerequisites</code> 转换为二维数组，即用二维数组存储图的信息<ul><li>创建二维数组 <code>edges</code> 来表示先修课程，下标表示课程，内层数组表示先修课程集合</li><li><code>edges[i]</code> 中的下标 <code>i</code> 表示课程 <code>i</code> ，<code>edges[i]</code> 表示课程i的先修课程集合</li><li><code>edges[i][j]</code> 表示课程 <code>i</code> 的一个先修课程，<code>edges[i][j]</code> 的值是 <code>edges</code> 的一个下标</li></ul></li></ul><br><ul><li><strong>第二步</strong> ：按课程序号从0开始深度遍历<code>edges</code>，判定图中是否存在环</li></ul><br><ul><li><strong>第三步</strong> ：以任意课程 <code>c</code> 为起始点深度遍历其先修课程，过程中注意3点：<ul><li>所有遍历过的节点使用哈希集合 <code>visited</code> 记录，以达到剪枝效果避免超时</li><li>当前路径遍历过的节点使用哈希集合 <code>paths</code> 记录，如果当前节点已存在于 <code>paths</code> 中，说明存在环</li><li>如果课程 <code>c2</code> 后续路径合法，记得将其从 <code>paths</code> 中移除，以免干扰其他路径遍历（类似回溯中的状态重置）</li></ul></li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3复杂度">3、复杂度<a href="#3复杂度" class="hash-link" aria-label="3、复杂度的直接链接" title="3、复杂度的直接链接">​</a></h2><ul><li>时间复杂度: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4代码">4、代码<a href="#4代码" class="hash-link" aria-label="4、代码的直接链接" title="4、代码的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">canFinish</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">numCourses</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> prerequisites</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 1、把先修课程`prerequisites`转换为二维数组表示的图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> edges </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">numCourses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> p </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> prerequisites</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> edges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 以课程c为起始点，深度遍历所有先修课程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> visited </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">dfs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">c</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> paths</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">visited</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        visited</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        paths</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> c2 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> edges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">paths</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">dfs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> paths</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            paths</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">delete</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 2、按课程序号从0开始深度遍历`edges`，判定图中是否存在环</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> edges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">dfs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/深度优先搜索/">深度优先搜索</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/广度优先搜索/">广度优先搜索</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/图/">图</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/拓扑排序/">拓扑排序</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/13/807.保持城市天际线/">807.保持城市天际线</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-13T00:00:00.000Z" itemprop="datePublished">2021年12月13日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>给你一座由 <code>n x n</code> 个街区组成的城市，每个街区都包含一座立方体建筑。给你一个下标从 <strong>0</strong> 开始的 <code>n x n</code> 整数矩阵 <code>grid</code> ，其中 <code>grid[r][c]</code> 表示坐落于 <code>r</code> 行 <code>c</code> 列的建筑物的 <strong>高度</strong> 。</p><p>城市的 <strong>天际线</strong> 是从远处观察城市时，所有建筑物形成的外部轮廓。从东、南、西、北四个主要方向观测到的 <strong>天际线</strong> 可能不同。</p><p>我们被允许为 <strong>任意数量的建筑物 </strong>的高度增加<strong> 任意增量（不同建筑物的增量可能不同）</strong> 。 高度为 <code>0</code> 的建筑物的高度也可以增加。然而，增加的建筑物高度 <strong>不能影响</strong> 从任何主要方向观察城市得到的 <strong>天际线</strong> 。</p><p>在 <strong>不改变</strong> 从任何主要方向观测到的城市 <strong>天际线</strong> 的前提下，返回建筑物可以增加的 <strong>最大高度增量总和</strong> 。</p><p> </p><p><strong>示例 1：</strong></p><img loading="lazy" alt="" src="/assets/images/ab955ce640936f0bcc7d8beb3bed95a8-12b75bf5a229089b11aee550aa863f80.png" class="img_ev3q"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>grid = [[3,0,8,4],[2,4,5,7],[9,2,6,3],[0,3,1,0]]<br><strong>输出：</strong>35<br><strong>解释：</strong>建筑物的高度如上图中心所示。<br>用红色绘制从不同方向观看得到的天际线。<br>在不影响天际线的情况下，增加建筑物的高度：<br>gridNew = [ [8, 4, 8, 7],<br>            [7, 4, 7, 7],<br>            [9, 4, 8, 7],<br>            [3, 3, 3, 3] ]<br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>grid = [[0,0,0],[0,0,0],[0,0,0]]<br><strong>输出：</strong>0<br><strong>解释：</strong>增加任何建筑物的高度都会导致天际线的变化。<br></code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>n == grid.length</code></li><li><code>n == grid[r].length</code></li><li><code>2 &lt;= n &lt;= 50</code></li><li><code>0 &lt;= grid[r][c] &lt;= 100</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><p>题目比较简单，两次遍历先取行列最大值再累加最大差值即可。详细步骤如下：</p><ul><li>先计算各行最大值<code>maxInRows</code>和各列最大值<code>maxInCols</code></li><li>再遍历矩阵<code>grid</code>中每个元素，元素增大的上限是该行最大值<code>maxInRows[i]</code>和该列最大值<code>maxInCols[j]</code>中较小的那个</li><li>求局部最优解：计算出每个建筑物可以增加的最大高度<code>(Math.min(maxInRows[i], maxInCols[j]) - grid[i][j])</code></li><li>累加可得全局最优解：建筑物高度可以增加的最大总和</li></ul><p>时间复杂度：<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">maxIncreaseKeepingSkyline</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> maxInRows </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> maxInCols </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            maxInRows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">maxInRows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            maxInCols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">maxInCols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            res </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">maxInRows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> maxInCols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> grid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/贪心/">贪心</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/数组/">数组</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/矩阵/">矩阵</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/12/09/794.有效的井字游戏/">794.有效的井字游戏</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-09T00:00:00.000Z" itemprop="datePublished">2021年12月9日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>给你一个字符串数组 <code>board</code> 表示井字游戏的棋盘。当且仅当在井字游戏过程中，棋盘有可能达到 <code>board</code> 所显示的状态时，才返回 <code>true</code> 。</p><p>井字游戏的棋盘是一个 <code>3 x 3</code> 数组，由字符 <code>&#x27; &#x27;</code>，<code>&#x27;X&#x27;</code> 和 <code>&#x27;O&#x27;</code> 组成。字符 <code>&#x27; &#x27;</code> 代表一个空位。</p><p>以下是井字游戏的规则：</p><ul><li>玩家轮流将字符放入空位（<code>&#x27; &#x27;</code>）中。</li><li>玩家 1 总是放字符 <code>&#x27;X&#x27;</code> ，而玩家 2 总是放字符 <code>&#x27;O&#x27;</code> 。</li><li><code>&#x27;X&#x27;</code> 和 <code>&#x27;O&#x27;</code> 只允许放置在空位中，不允许对已放有字符的位置进行填充。</li><li>当有 3 个相同（且非空）的字符填充任何行、列或对角线时，游戏结束。</li><li>当所有位置非空时，也算为游戏结束。</li><li>如果游戏结束，玩家不允许再放置字符。</li></ul><p> </p><p><strong>示例 1：</strong></p><img loading="lazy" alt="" src="data:image/jpeg;base64,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" class="img_ev3q"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>board = [&quot;O  &quot;,&quot;   &quot;,&quot;   &quot;]<br><strong>输出：</strong>false<br><strong>解释：</strong>玩家 1 总是放字符 &quot;X&quot; 。<br></code></pre><p><strong>示例 2：</strong></p><img loading="lazy" alt="" src="data:image/jpeg;base64,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" class="img_ev3q"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>board = [&quot;XOX&quot;,&quot; X &quot;,&quot;   &quot;]<br><strong>输出：</strong>false<br><strong>解释：</strong>玩家应该轮流放字符。<br></code></pre><p><strong>示例 3:</strong></p><img loading="lazy" alt="" src="/assets/images/79070475b36ffdf90a1feccd2a293293-0213cb6451d6cf61c959fece496ddaf9.jpg" class="img_ev3q"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>board = [&quot;XOX&quot;,&quot;O O&quot;,&quot;XOX&quot;]<br><strong>输出：</strong>true<br></code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>board.length == 3</code></li><li><code>board[i].length == 3</code></li><li><code>board[i][j]</code> 为 <code>&#x27;X&#x27;</code>、<code>&#x27;O&#x27;</code> 或 <code>&#x27; &#x27;</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h3><blockquote><p>题目看似简单，实际答题还是出现了错漏(￣.￣)</p></blockquote><ul><li><p>题干中3个关键的限制条件</p><ul><li>第一个玩家总是放字符 “X”，且第二个玩家总是放字符 “O”</li><li>当有 3 个相同（且非空）的字符填充任何行、列或对角线时，游戏结束</li><li>如果游戏结束，玩家不允许再放置字符</li></ul></li><li><p>分析得出的4种限制情况</p><ul><li>1、局内限制：X的数量与O相等或者比O多1，即：<code>len(X) &gt;= len(O) &amp;&amp; len(X) - len(O) &lt;= 1</code></li><li>2、赢家限制：赢家是X时，X的数量比O多1，即：<code>winners.has(&#x27;XXX&#x27;) &amp;&amp; len(X) == len(O)+1</code></li><li>3、赢家限制：赢家是O时，X的数量与O相等，即：<code>winners.has(&#x27;OOO&#x27;) &amp;&amp; len(X) == len(O)</code></li><li>4、赢家限制：不能出现双赢局面，即<code>winners.size&lt;=1</code></li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">validTicTacToe</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> winners </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">checkWinner</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">XXX|OOO</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> winners</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">checkWinner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">checkWinner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">xc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> oc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">checkWinner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;X&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> xc</span><span class="token operator">++</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> oc</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">checkWinner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> board</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//1、局内限制：len(X) &gt;= len(O) &amp;&amp; len(X) - len(O) &lt;= 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">xc </span><span class="token operator">&lt;</span><span class="token plain"> oc </span><span class="token operator">||</span><span class="token plain"> xc </span><span class="token operator">-</span><span class="token plain"> oc </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//2、赢家限制：赢家是X时，len(X) == len(O)+1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">winners</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;XXX&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> xc </span><span class="token operator">===</span><span class="token plain"> oc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//3、赢家限制：赢家是O时，len(X) == len(O)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">winners</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;OOO&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> xc </span><span class="token operator">&gt;</span><span class="token plain"> oc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//4、赢家限制：不能出现双赢局面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> winners</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">size</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/数组/">数组</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/矩阵/">矩阵</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2021/11/29/786.第 K 个最小的素数分数/">786.第 K 个最小的素数分数</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-29T00:00:00.000Z" itemprop="datePublished">2021年11月29日</time> · <!-- -->阅读需 9 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1题干">1、题干<a href="#1题干" class="hash-link" aria-label="1、题干的直接链接" title="1、题干的直接链接">​</a></h2><p>给你一个按递增顺序排序的数组 <code>arr</code> 和一个整数 <code>k</code> 。数组 <code>arr</code> 由 <code>1</code> 和若干 <strong>素数</strong>  组成，且其中所有整数互不相同。</p><p>对于每对满足 <code>0 &lt;= i &lt; j &lt; arr.length</code> 的 <code>i</code> 和 <code>j</code> ，可以得到分数 <code>arr[i] / arr[j]</code> 。</p><p>那么第 <code>k</code> 个最小的分数是多少呢?  以长度为 <code>2</code> 的整数数组返回你的答案, 这里 <code>answer[0] == arr[i]</code> 且 <code>answer[1] == arr[j]</code> 。</p> <p><strong>示例 1：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>arr = [1,2,3,5], k = 3<br><strong>输出：</strong>[2,5]<br><strong>解释：</strong>已构造好的分数,排序后如下所示: <br>1/5, 1/3, 2/5, 1/2, 3/5, 2/3<br>很明显第三个最小的分数是 2/5<br></code></pre><p><strong>示例 2：</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>输入：</strong>arr = [1,7], k = 1<br><strong>输出：</strong>[1,7]<br></code></pre><p> </p><p><strong>提示：</strong></p><ul><li><code>2 &lt;= arr.length &lt;= 1000</code></li><li><code>1 &lt;= arr[i] &lt;= 3 * 10<sup>4</sup></code></li><li><code>arr[0] == 1</code></li><li><code>arr[i]</code> 是一个 <strong>素数</strong> ，<code>i &gt; 0</code></li><li><code>arr</code> 中的所有数字 <strong>互不相同</strong> ，且按 <strong>严格递增</strong> 排序</li><li><code>1 &lt;= k &lt;= arr.length * (arr.length - 1) / 2</code></li></ul><p> </p><p><strong>进阶：</strong>你可以设计并实现时间复杂度小于 <code>O(n<sup>2</sup>)</code> 的算法解决此问题吗？</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2解法1-暴力解法">2、解法1-暴力解法<a href="#2解法1-暴力解法" class="hash-link" aria-label="2、解法1-暴力解法的直接链接" title="2、解法1-暴力解法的直接链接">​</a></h2><p>创建数组matrix，两层循环遍历素数数组，把所有素数对存入matrix中，然后对matrix进行排序。最先尝试了暴力解法，居然过了。。。</p><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3代码">3、代码<a href="#3代码" class="hash-link" aria-label="3、代码的直接链接" title="3、代码的直接链接">​</a></h2><div class="language-JavaScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-JavaScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var kthSmallestPrimeFraction = function (arr, k) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const p = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 1; i &lt; arr.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = 0; j &lt; i; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            p.push([arr[j], arr[i]]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    p.sort((a, b) =&gt; a[0] / a[1] - b[0] / b[1]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return p[k - 1];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>时间复杂度: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>∗</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2*log(n^2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span></span></li><li>执行用时: 1908 ms，内存消耗: 94 MB</li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4解法2-暴力解法的二分优化">4、解法2-暴力解法的二分优化<a href="#4解法2-暴力解法的二分优化" class="hash-link" aria-label="4、解法2-暴力解法的二分优化的直接链接" title="4、解法2-暴力解法的二分优化的直接链接">​</a></h2><p>之后尝试使用二分法优化这段代码，这里二分的目标是matrix而不是原始数组arr，因为时间复杂度最高的地方在matrix的排序。优化后时间复杂度量级没有改变，但是matrix长度减半，执行速度会有所提升</p><p>思路是：</p><ul><li>创建两个数组m1和m2，两层循环遍历素数数组</li><li>把所有商小于0.5的素数对存入m1中，其余存入m2中</li><li>如果<code>k &lt;= m1.length</code>就对m1排序并返回<code>m1[k-1]</code></li><li>如果<code>k &gt; m1.length</code>就对m2排序并返回<code>m2[k - m1.length - 1]</code></li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5代码">5、代码<a href="#5代码" class="hash-link" aria-label="5、代码的直接链接" title="5、代码的直接链接">​</a></h2><div class="language-JavaScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-JavaScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var kthSmallestPrimeFraction = function (arr, k) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const p1 = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const p2 = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 1; i &lt; arr.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = 0; j &lt; i; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (arr[j] / arr[i] &lt; 0.5) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                p1.push([arr[j], arr[i]]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                p2.push([arr[j], arr[i]]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (k &lt;= p1.length) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        p1.sort((a, b) =&gt; a[0] / a[1] - b[0] / b[1]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return p1[k - 1];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        p2.sort((a, b) =&gt; a[0] / a[1] - b[0] / b[1]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return p2[k - p1.length - 1];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>时间复杂度: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>∗</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2*log(n^2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span></span></li><li>执行用时: 1276 ms 内存消耗: 104.1 MB</li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6解法3-桶排序">6、解法3-桶排序<a href="#6解法3-桶排序" class="hash-link" aria-label="6、解法3-桶排序的直接链接" title="6、解法3-桶排序的直接链接">​</a></h2><p>二分方案中，把matrix二分后两个子数组的元素个数的数量级几乎相当，其实推广到<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><mn>2</mn><mo>&lt;</mo><mi>N</mi><mo>&lt;</mo><mo>=</mo><mi>n</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo separator="true">,</mo><mi>n</mi><mo>=</mo><mn>1000</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(2&lt;N&lt;=n*(n-1)/2,n=1000)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4653em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1000</span><span class="mclose">)</span></span></span></span></span>也适用。也就是说matrix分成N个子组后每个子组的长度几乎相等，这其实就是桶排序。</p><p>所以如果这样理解题意就简单很多：<strong>数组中最多包含约500000（<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo separator="true">,</mo><mi>n</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">n*(n-1)/2,n=1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4653em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1000</span></span></span></span></span>）个无序排列的小数，这些小数从0到1均匀分布，返回其中第k小的小数</strong>。</p><p><strong>桶排序的思路：</strong></p><ul><li>创建大小为N的二维数组matrix，matrix中的每个元素(数组)就是一个桶</li><li>根据分组规则把所有小数均匀放入桶中</li><li>累计每个桶内元素数量，找到第k个小数所在的桶matrix<!-- -->[<!-- -->k&#x27;]，对该桶内小数进行排序</li><li>在matrix<!-- -->[<!-- -->k&#x27;]这个桶中找到第k个小数即可</li></ul><p><strong>小数的分组规则：</strong></p><ul><li>分组的关键问题是<strong>分组规则</strong>，也就是任意小数<code>a</code>应该放入桶的序号<code>i</code>是多少（即a与i之间的映射关系）</li><li>实际上可以用桶的数量<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span></span></span></span></span>乘以小数<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span></span>再取整作为桶的序号，即<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mi>M</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi mathvariant="normal">.</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>n</mi><mi>c</mi><mo stretchy="false">(</mo><mi>a</mi><mo>∗</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">i=Math.trunc(a*N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mclose">)</span></span></span></span></span>，这样就建立起小数<code>a</code>与桶序号<code>i</code>的映射，消耗的时间复杂度是<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul><blockquote><p>对于这个分组规则可以举个例子：假设<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span></span></span></span></span>取<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1000</span></span></span></span></span>，对于任意小数<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.0012</mn></mrow><annotation encoding="application/x-tex">0.0012</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0.0012</span></span></span></span></span>，把数据代入公式<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mi>M</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi mathvariant="normal">.</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>n</mi><mi>c</mi><mo stretchy="false">(</mo><mi>a</mi><mo>∗</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">i=Math.trunc(a*N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mclose">)</span></span></span></span></span>中算得<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span>，也就是说<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.0012</mn></mrow><annotation encoding="application/x-tex">0.0012</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0.0012</span></span></span></span></span>应该放入<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">matrix[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">x</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>这个桶中。</p></blockquote><p>还是在暴力解法的基础上优化，只需要把matrix分为N个子数组，然后只对包含第k个小数的子数组进行排序，最后返回对应的素数对即可。</p><p>如果N的取值合适的话，时间复杂度可以降到 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>。这里使用的取值计算公式是：<code>N = 10 ** Math.trunc(Math.log10(arr[arr.length - 1]))</code>。</p><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7代码">7、代码<a href="#7代码" class="hash-link" aria-label="7、代码的直接链接" title="7、代码的直接链接">​</a></h2><div class="language-JavaScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-JavaScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">var kthSmallestPrimeFraction = function (arr, k) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const BASE = 10 ** Math.trunc(Math.log10(arr[arr.length - 1]));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const matrix = new Array(BASE);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 1; i &lt; arr.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = 0; j &lt; i; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const index = Math.trunc(arr[j] / arr[i] * BASE);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!matrix[index]) matrix[index] = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            matrix[index].push([arr[j], arr[i]]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let arr of matrix) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        arr = arr || [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (k - arr.length &lt;= 0) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            arr.sort((a, b) =&gt; a[0] / a[1] - b[0] / b[1]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return arr[k - 1];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        k = k - arr.length;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>时间复杂度: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li><li>执行用时: 876 ms 内存消耗: 97.8 MB</li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="8解法4-桶排序优化">8、解法4-桶排序优化<a href="#8解法4-桶排序优化" class="hash-link" aria-label="8、解法4-桶排序优化的直接链接" title="8、解法4-桶排序优化的直接链接">​</a></h2><p>每个桶都使用<code>Array.push</code>放入数据，最终只使用了其中一个桶进行排序，这在时间和空间上都存在大量浪费。可以进一步优化为，只在包含第k个小数的桶中存入素数对，其他的桶只记录元素个数即可。</p><p>程序最终逻辑：</p><ul><li>计算分组数量N</li><li>初始化matrix并写入N个0</li><li>双层遍历arr，计算每个桶包含小数的数量</li><li>按桶累计小数数量，找到第k个小数对应的桶序号index，将桶<code>matrix[index]</code>赋值为空数组</li><li>双层遍历arr，当小数对应的序号与index相等时，将素数对放入桶<code>matrix[index]</code>中</li><li>对桶<code>matrix[index]</code>进行排序，返回第k个素数对</li></ul><br><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="9代码">9、代码<a href="#9代码" class="hash-link" aria-label="9、代码的直接链接" title="9、代码的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">kthSmallestPrimeFraction</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">arr</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> k</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 计算分组数量N</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">N</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator">**</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">trunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 初始化matrix并写入N个0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> matrix </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 双层遍历arr，计算每个桶包含小数的数量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> m </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">trunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 按桶累计小数数量，找到第k个小数对应的桶序号index，将桶`matrix[index]`赋值为空数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">k </span><span class="token operator">-</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      index </span><span class="token operator">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    k </span><span class="token operator">=</span><span class="token plain"> k </span><span class="token operator">-</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 双层遍历arr，当小数对应的序号与index相等时，将素数对放入桶`matrix[index]`中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> m </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">trunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index </span><span class="token operator">===</span><span class="token plain"> m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 对桶`matrix[index]`进行排序，返回第k个素数对</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">sort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">k </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>时间复杂度: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li><li>执行用时: 92 ms 内存消耗: 41.1 MB</li></ul><p><img loading="lazy" alt="20211129.png" src="/assets/images/3ef0674788ad0661b97436b26b17c57e-269df426cab1f5e89bea9deeb7a621a3.png" width="1356" height="524" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/数组/">数组</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/二分查找/">二分查找</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/排序/">排序</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/堆（优先队列）/">堆（优先队列）</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/algorithm/page/25/"><div class="pagination-nav__label">较新的博文</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/algorithm/page/27/"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Whilconn. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f85ed2fe.js"></script>
<script src="/assets/js/main.696e9f67.js"></script>
</body>
</html>