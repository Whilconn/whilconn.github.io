<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-algorithm">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Blog | D9ç¬”è®°</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://whilconn.github.io/algorithm/page/6/"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="Blog | D9ç¬”è®°"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/avatar.png"><link data-rh="true" rel="canonical" href="https://whilconn.github.io/algorithm/page/6/"><link data-rh="true" rel="alternate" href="https://whilconn.github.io/algorithm/page/6/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://whilconn.github.io/algorithm/page/6/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="D9ç¬”è®° RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="D9ç¬”è®° Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/algorithm/rss.xml" title="D9ç¬”è®° RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/algorithm/atom.xml" title="D9ç¬”è®° Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7927d773.css">
<link rel="preload" href="/assets/js/runtime~main.863ee50e.js" as="script">
<link rel="preload" href="/assets/js/main.f18428f3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.png" alt="D9ç¬”è®°" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avatar.png" alt="D9ç¬”è®°" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">D9ç¬”è®°</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/portals/">å¯¼èˆª</a><a class="navbar__item navbar__link" href="/blog/">åšå®¢</a><a class="navbar__item navbar__link" href="/algorithm/archive/">ç®—æ³•é¢˜è§£</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæš—é»‘æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæš—é»‘æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="æœ€è¿‘åšæ–‡å¯¼èˆª"><div class="sidebarItemTitle_pO2u margin-bottom--md">æœ€æ–°æ–‡ç« </div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/12/1138.å­—æ¯æ¿ä¸Šçš„è·¯å¾„/">1138.å­—æ¯æ¿ä¸Šçš„è·¯å¾„</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/11/2011.æ‰§è¡Œæ“ä½œåçš„å˜é‡å€¼/">2011.æ‰§è¡Œæ“ä½œåçš„å˜é‡å€¼</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/11/2335.è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿/">2335.è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/09/1797.è®¾è®¡ä¸€ä¸ªéªŒè¯ç³»ç»Ÿ/">1797.è®¾è®¡ä¸€ä¸ªéªŒè¯ç³»ç»Ÿ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/08/1233.åˆ é™¤å­æ–‡ä»¶å¤¹/">1233.åˆ é™¤å­æ–‡ä»¶å¤¹</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/07/1604.è­¦å‘Šä¸€å°æ—¶å†…ä½¿ç”¨ç›¸åŒå‘˜å·¥å¡å¤§äºç­‰äºä¸‰æ¬¡çš„äºº/">1604.è­¦å‘Šä¸€å°æ—¶å†…ä½¿ç”¨ç›¸åŒå‘˜å·¥å¡å¤§äºç­‰äºä¸‰æ¬¡çš„äºº</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/06/2331.è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼/">2331.è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/05/1210.ç©¿è¿‡è¿·å®«çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°/">1210.ç©¿è¿‡è¿·å®«çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/04/1798.ä½ èƒ½æ„é€ å‡ºè¿ç»­å€¼çš„æœ€å¤§æ•°ç›®/">1798.ä½ èƒ½æ„é€ å‡ºè¿ç»­å€¼çš„æœ€å¤§æ•°ç›®</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/2023/02/03/1145.äºŒå‰æ ‘ç€è‰²æ¸¸æˆ/">1145.äºŒå‰æ ‘ç€è‰²æ¸¸æˆ</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/18/891.å­åºåˆ—å®½åº¦ä¹‹å’Œ/">891.å­åºåˆ—å®½åº¦ä¹‹å’Œ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-18T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ18æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä¸€ä¸ªåºåˆ—çš„ <strong>å®½åº¦</strong> å®šä¹‰ä¸ºè¯¥åºåˆ—ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¿”å› <code>nums</code> çš„æ‰€æœ‰éç©º <strong>å­åºåˆ—</strong> çš„ <strong>å®½åº¦ä¹‹å’Œ</strong> ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¿”å›å¯¹ <code>10<sup>9</sup> + 7</code> <strong>å–ä½™</strong> åçš„ç»“æœã€‚</p><p><strong>å­åºåˆ—</strong> å®šä¹‰ä¸ºä»ä¸€ä¸ªæ•°ç»„é‡Œåˆ é™¤ä¸€äº›ï¼ˆæˆ–è€…ä¸åˆ é™¤ï¼‰å…ƒç´ ï¼Œä½†ä¸æ”¹å˜å‰©ä¸‹å…ƒç´ çš„é¡ºåºå¾—åˆ°çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œ<code>[3,6,2,7]</code> å°±æ˜¯æ•°ç»„ <code>[0,3,1,6,2,2,7]</code> çš„ä¸€ä¸ªå­åºåˆ—ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>nums = [2,1,3]<br><strong>è¾“å‡ºï¼š</strong>6<br><strong>è§£é‡Šï¼š</strong>å­åºåˆ—ä¸º [1], [2], [3], [2,1], [2,3], [1,3], [2,1,3] ã€‚<br>ç›¸åº”çš„å®½åº¦æ˜¯ 0, 0, 0, 1, 1, 2, 2 ã€‚<br>å®½åº¦ä¹‹å’Œæ˜¯ 6 ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>nums = [2]<br><strong>è¾“å‡ºï¼š</strong>0<br></code></pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li><li><code>1 &lt;= nums[i] &lt;= 10<sup>5</sup></code></li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/sum-of-subsequence-widths/description/" target="_blank" rel="noopener noreferrer">891. å­åºåˆ—å®½åº¦ä¹‹å’Œ</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯">2ã€æ€è·¯<a href="#2æ€è·¯" class="hash-link" aria-label="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>è¿˜å¾—æ˜¯æŒ‰å®˜è§£çš„æ’åº+è®¡ç®—è´¡çŒ®å€¼çš„æ€è·¯å»åšï¼š</p><ul><li>å¯¹é•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>nums</code> å‡åºæ’åˆ—</li><li>æ•°ç»„ <code>nums</code> ä¸­ç¬¬ <code>i</code> ä¸ªæ•´æ•°è´¡çŒ®çš„æœ€å°å€¼æ¬¡æ•°æ˜¯ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>âˆ’</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2 ^ {n-i-1} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.908em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span></li><li>æ•°ç»„ <code>nums</code> ä¸­ç¬¬ <code>i</code> ä¸ªæ•´æ•°è´¡çŒ®çš„æœ€å¤§å€¼æ¬¡æ•°æ˜¯ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>i</mi></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2 ^ i - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.908em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span></li><li>ç´¯è®¡æ¯ä¸ªå…ƒç´ çš„è´¡çŒ®å€¼ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>âˆ—</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>i</mi></msup><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>n</mi><mi>u</mi><mi>m</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>âˆ—</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>âˆ’</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">nums[i] * (2 ^ i - 1) - nums[i] * (2 ^ {n-i-1} - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul><p>è®¡ç®—è´¡çŒ®æ¬¡æ•°å®é™…æ˜¯è®¡ç®—ç»„åˆæ•°ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mn>1</mn></msubsup><mo>+</mo><msubsup><mi>C</mi><mi>n</mi><mn>2</mn></msubsup><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msubsup><mi>C</mi><mi>n</mi><mi>n</mi></msubsup></mrow><annotation encoding="application/x-tex">C_{n}^{1} + C_{n}^{2} + ... + C_{n}^{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0611em;vertical-align:-0.247em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0611em;vertical-align:-0.247em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9303em;vertical-align:-0.247em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span></span></span></span></span></p><p>ç”±äºæ•°æ®è¿‡å¤§éœ€è¦å–ä½™ï¼Œç¬¬ä¸€ç‰ˆç”¨å¿«é€Ÿå¹‚å®ç°ï¼Œå±…ç„¶åªé€šè¿‡äº† 20+ ä¸ªç”¨ä¾‹ï¼ŒçœŸæ˜¯è£‚å¼€äº†ğŸ˜³ï¼›æŠŠå¿«é€Ÿå¹‚æ”¹æˆæ‰“è¡¨åè¿‡äº†ã€‚ã€‚ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function sumSubseqWidths(nums: number[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const n = nums.length, MOD = 1e9 + 7;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    nums.sort((a, b) =&gt; a - b);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const pow = new Array(n).fill(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 1; i &lt; n; i++) pow[i] = 2 * pow[i - 1] % MOD;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let res = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; n; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res = (res + nums[i] * (pow[i] - pow[n - i - 1])) % MOD;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ—</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668741523-WyQpgw-image-71411fd74e9c2669cdd22fe746959508.png" width="1520" height="400" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°ç»„/">æ•°ç»„</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°å­¦/">æ•°å­¦</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ’åº/">æ’åº</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/17/792.åŒ¹é…å­åºåˆ—çš„å•è¯æ•°/">792.åŒ¹é…å­åºåˆ—çš„å•è¯æ•°</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-17T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ17æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç»™å®šå­—ç¬¦ä¸² <code>s</code>Â å’Œå­—ç¬¦ä¸²æ•°ç»„Â <code>words</code>, è¿”å›Â Â <em><code>words[i]</code>Â ä¸­æ˜¯<code>s</code>çš„å­åºåˆ—çš„å•è¯ä¸ªæ•°</em>Â ã€‚</p><p>å­—ç¬¦ä¸²çš„ <strong>å­åºåˆ—</strong> æ˜¯ä»åŸå§‹å­—ç¬¦ä¸²ä¸­ç”Ÿæˆçš„æ–°å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä»ä¸­åˆ å»ä¸€äº›å­—ç¬¦(å¯ä»¥æ˜¯none)ï¼Œè€Œä¸æ”¹å˜å…¶ä½™å­—ç¬¦çš„ç›¸å¯¹é¡ºåºã€‚</p><ul><li>ä¾‹å¦‚ï¼Œ <code>â€œaceâ€</code> æ˜¯ <code>â€œabcdeâ€</code> çš„å­åºåˆ—ã€‚</li></ul><p>Â </p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> s = &quot;abcde&quot;, words = [&quot;a&quot;,&quot;bb&quot;,&quot;acd&quot;,&quot;ace&quot;]<br><strong>è¾“å‡º:</strong> 3<br><strong>è§£é‡Š:</strong> æœ‰ä¸‰ä¸ªæ˜¯Â s çš„å­åºåˆ—çš„å•è¯: &quot;a&quot;, &quot;acd&quot;, &quot;ace&quot;ã€‚<br></code></pre><p><strong>Example 2:</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥: </strong>s = &quot;dsahjpjauf&quot;, words = [&quot;ahjpjau&quot;,&quot;ja&quot;,&quot;ahbwzgqnuk&quot;,&quot;tnmlanowax&quot;]<br><strong>è¾“å‡º:</strong> 2<br></code></pre><p>Â </p><p><strong>æç¤º:</strong></p><ul><li><code>1 &lt;= s.length &lt;= 5 * 10<sup>4</sup></code></li><li><code>1 &lt;= words.length &lt;= 5000</code></li><li><code>1 &lt;= words[i].length &lt;= 50</code></li><li><code>words[i]</code>å’Œ<font color="#c7254e" face="Menlo, Monaco, Consolas, Courier New, monospace"><span>s</span></font>Â éƒ½åªç”±å°å†™å­—æ¯ç»„æˆã€‚</li></ul><span><span><span>â€‹â€‹â€‹â€‹</span></span></span><blockquote><p>Problem: <a href="https://leetcode.cn/problems/number-of-matching-subsequences/description/" target="_blank" rel="noopener noreferrer">792. åŒ¹é…å­åºåˆ—çš„å•è¯æ•°</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯">2ã€æ€è·¯<a href="#2æ€è·¯" class="hash-link" aria-label="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>äºŒåˆ†æŸ¥æ‰¾</p><ul><li>æŒ‰å­—æ¯è¡¨é¡ºåºæŠŠå­—ç¬¦ä¸² <code>s</code> ä¸­æ‰€æœ‰å­—ç¬¦çš„ä¸‹æ ‡å‡åºå­˜å…¥äºŒç»´æ•°ç»„ <code>idxMatrix</code></li><li>åˆ¤æ–­æ•°ç»„ <code>words</code> ä¸­ä»»æ„å­—ç¬¦ä¸² <code>w</code> æ˜¯å¦ <code>s</code> çš„å­åºåˆ—ï¼Œåªéœ€è¦åˆ¤æ–­ <code>w</code> ä¸­ä»»æ„å­—ç¬¦ <code>c</code> æ¯”å‰ä¸€ä¸ªå­—ç¬¦ åœ¨ <code>s</code> ä¸­çš„ä¸‹æ ‡æ›´å¤§ã€‚å…¶ä¸­æŸ¥æ‰¾ <code>c</code> åœ¨ <code>s</code> ä¸­çš„ä¸‹æ ‡æ—¶ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function numMatchingSubseq(s: string, words: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const CA = &#x27;a&#x27;.charCodeAt(0), idxMatrix = new Array(26).fill(0).map(() =&gt; []);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; s.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const ci = s[i].charCodeAt(0) - CA;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        idxMatrix[ci].push(i);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function find(nums: number[] = [], k: number) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let l = 0, r = nums.length - 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        while (l &lt;= r) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const m = ((l + r) / 2) &gt;&gt; 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (nums[m] &gt; k) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (nums[m - 1] &gt; k) r = m - 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                else return nums[m];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                l = m + 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return -1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let res = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loop: for (const w of words) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let preIdx = -1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const c of w) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const ci = c.charCodeAt(0) - CA;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const ni = find(idxMatrix[ci], preIdx);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (ni &lt; 0) continue loop;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            preIdx = ni;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ—</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668654713-oGYEIy-image-5ede2bab7d9b4d5eb401e4a84231922c.png" width="1534" height="396" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å­—å…¸æ ‘/">å­—å…¸æ ‘</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å“ˆå¸Œè¡¨/">å“ˆå¸Œè¡¨</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å­—ç¬¦ä¸²/">å­—ç¬¦ä¸²</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ’åº/">æ’åº</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/16/775.å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®/">775.å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-16T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ16æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 4 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¡¨ç¤ºç”±èŒƒå›´ <code>[0, n - 1]</code> å†…æ‰€æœ‰æ•´æ•°ç»„æˆçš„ä¸€ä¸ªæ’åˆ—ã€‚</p><p><strong>å…¨å±€å€’ç½®</strong> çš„æ•°ç›®ç­‰äºæ»¡è¶³ä¸‹è¿°æ¡ä»¶ä¸åŒä¸‹æ ‡å¯¹ <code>(i, j)</code> çš„æ•°ç›®ï¼š</p><ul><li><code>0 &lt;= i &lt; j &lt; n</code></li><li><code>nums[i] &gt; nums[j]</code></li></ul><p><strong>å±€éƒ¨å€’ç½®</strong> çš„æ•°ç›®ç­‰äºæ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„ä¸‹æ ‡ <code>i</code> çš„æ•°ç›®ï¼š</p><ul><li><code>0 &lt;= i &lt; n - 1</code></li><li><code>nums[i] &gt; nums[i + 1]</code></li></ul><p>å½“æ•°ç»„ <code>nums</code> ä¸­ <strong>å…¨å±€å€’ç½®</strong> çš„æ•°é‡ç­‰äº <strong>å±€éƒ¨å€’ç½®</strong> çš„æ•°é‡æ—¶ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>nums = [1,0,2]<br><strong>è¾“å‡ºï¼š</strong>true<br><strong>è§£é‡Šï¼š</strong>æœ‰ 1 ä¸ªå…¨å±€å€’ç½®ï¼Œå’Œ 1 ä¸ªå±€éƒ¨å€’ç½®ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>nums = [1,2,0]<br><strong>è¾“å‡ºï¼š</strong>false<br><strong>è§£é‡Šï¼š</strong>æœ‰ 2 ä¸ªå…¨å±€å€’ç½®ï¼Œå’Œ 1 ä¸ªå±€éƒ¨å€’ç½®ã€‚<br></code></pre>Â <p><strong>æç¤ºï¼š</strong></p><ul><li><code>n == nums.length</code></li><li><code>1 &lt;= n &lt;= 10<sup>5</sup></code></li><li><code>0 &lt;= nums[i] &lt; n</code></li><li><code>nums</code> ä¸­çš„æ‰€æœ‰æ•´æ•° <strong>äº’ä¸ç›¸åŒ</strong></li><li><code>nums</code> æ˜¯èŒƒå›´ <code>[0, n - 1]</code> å†…æ‰€æœ‰æ•°å­—ç»„æˆçš„ä¸€ä¸ªæ’åˆ—</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/global-and-local-inversions/description/" target="_blank" rel="noopener noreferrer">775. å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯1">2ã€æ€è·¯1<a href="#2æ€è·¯1" class="hash-link" aria-label="2ã€æ€è·¯1çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯1çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ ¹æ®é¢˜æ„å¯çŸ¥ï¼Œå±€éƒ¨å€’ç½®æ˜¯å…¨å±€å€’ç½®ï¼Œå…¨å±€å€’ç½®ä¸ä¸€å®šæ˜¯å±€éƒ¨å€’ç½®ï¼Œå› æ­¤å…¨å±€å€’ç½®çš„æ•°é‡å¿…ç„¶å¤§äºç­‰äºå±€éƒ¨å€’ç½®ã€‚</p><p>å½“æ•°ç»„ <code>nums</code> å‡åºæ’åˆ—æ—¶ä¸å­˜åœ¨å€’ç½®æƒ…å†µï¼Œè‹¥å°†ä»»æ„æ•´æ•° <code>k</code> ç½®æ¢åˆ°ä½ç½® <code>i</code> å°±ä¼šå‡ºç°å€’ç½®ï¼ŒäºŒè€…å·®å€¼å¤§äº <code>1</code> æ—¶å¿…ç„¶ä¼šå‡ºç°å…¨å±€å€’ç½®çš„æ•°é‡å¤§äºå±€éƒ¨å€’ç½®ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function isIdealPermutation(nums: number[]): boolean {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; nums.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (Math.abs(nums[i] - i) &gt; 1) return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668591065-MFtYCF-image-12aaa5abe39f819d81d1b0636cb993b8.png" width="1504" height="376" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6æ€è·¯2">6ã€æ€è·¯2<a href="#6æ€è·¯2" class="hash-link" aria-label="6ã€æ€è·¯2çš„ç›´æ¥é“¾æ¥" title="6ã€æ€è·¯2çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç´¯è®¡å±€éƒ¨å€’ç½®æ•°é‡ <code>pc</code> å’Œå…¨å±€å€’ç½®æ•°é‡ <code>ac</code>ï¼Œå½“ <code>nums[i] &gt; nums[i + 1]</code> æ—¶ <code>pc</code> åŠ  <code>1</code>ï¼Œå½“ <code>nums[i] &gt; i</code> æ—¶ <code>ac</code> åŠ  <code>nums[i] - i</code>ï¼Œæœ€ååˆ¤æ–­äºŒè€…æ˜¯å¦ç›¸ç­‰ã€‚å…¶ä¸­æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šå‡ºç°3ä¸ªè¿ç»­é€’å‡çš„æ•°æ—¶å…¨å±€å€’ç½®æ•°é‡å¿…å®šå¤§äºå€’ç½®æ•°é‡ã€‚</p><blockquote><p>è¿™ä¸ªæ€è·¯æ­£ç¡®æ€§æ²¡æœ‰éªŒè¯ï¼Œå®Œå…¨æ˜¯è¿æ°”é€šè¿‡</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7code">7ã€Code<a href="#7code" class="hash-link" aria-label="7ã€Codeçš„ç›´æ¥é“¾æ¥" title="7ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function isIdealPermutation(nums: number[]): boolean {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let pc = 0, ac = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; nums.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (nums[i] &gt; nums[i + 1] &amp;&amp; nums[i + 1] &gt; nums[i + 2]) return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (nums[i] &gt; nums[i + 1]) pc++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (nums[i] &gt; i) ac += nums[i] - i;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return pc === ac;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="8å¤æ‚åº¦">8ã€å¤æ‚åº¦<a href="#8å¤æ‚åº¦" class="hash-link" aria-label="8ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="8ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="9æ‰§è¡Œç»“æœ">9ã€æ‰§è¡Œç»“æœ<a href="#9æ‰§è¡Œç»“æœ" class="hash-link" aria-label="9ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="9ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668591118-jmlyLY-image-2b594de4c7774e784598ad96061cdc58.png" width="1496" height="364" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10æ€è·¯3">10ã€æ€è·¯3<a href="#10æ€è·¯3" class="hash-link" aria-label="10ã€æ€è·¯3çš„ç›´æ¥é“¾æ¥" title="10ã€æ€è·¯3çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å•è°ƒæ ˆï¼Œè€—æ—¶å¾ˆé•¿</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11code">11ã€Code<a href="#11code" class="hash-link" aria-label="11ã€Codeçš„ç›´æ¥é“¾æ¥" title="11ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function isIdealPermutation(nums: number[]): boolean {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let pc = 0, ac = 0, stack = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; nums.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (nums[i] &gt; nums[i + 1]) pc++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (!stack.length || stack.at(-1) &gt; nums[i]) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ac += stack.length;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            stack.push(nums[i]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const j = stack.findIndex(s =&gt; s &lt; nums[i]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ac += j;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            stack.splice(j, 0, nums[i]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return pc === ac;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12å¤æ‚åº¦">12ã€å¤æ‚åº¦<a href="#12å¤æ‚åº¦" class="hash-link" aria-label="12ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="12ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13æ‰§è¡Œç»“æœ">13ã€æ‰§è¡Œç»“æœ<a href="#13æ‰§è¡Œç»“æœ" class="hash-link" aria-label="13ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="13ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668591829-KRaVMg-image-e492606ec63f9075f3817d4cd2dfb1e3.png" width="1462" height="356" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°ç»„/">æ•°ç»„</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°å­¦/">æ•°å­¦</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/13/790.å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º/">790.å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-13T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ13æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 2 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æœ‰ä¸¤ç§å½¢çŠ¶çš„ç“·ç –ï¼šä¸€ç§æ˜¯Â <code>2 x 1</code> çš„å¤šç±³è¯ºå½¢ï¼Œå¦ä¸€ç§æ˜¯å½¢å¦‚Â &quot;L&quot; çš„æ‰˜ç±³è¯ºå½¢ã€‚ä¸¤ç§å½¢çŠ¶éƒ½å¯ä»¥æ—‹è½¬ã€‚</p><p><img loading="lazy" src="../../../img/lc-domino.jpg" class="img_ev3q"></p><p>ç»™å®šæ•´æ•° n ï¼Œè¿”å›å¯ä»¥å¹³é“ºÂ <code>2 x n</code> çš„é¢æ¿çš„æ–¹æ³•çš„æ•°é‡ã€‚<strong>è¿”å›å¯¹</strong>Â <code>10<sup>9</sup>Â + 7</code>Â <strong>å–æ¨¡Â </strong>çš„å€¼ã€‚</p><p>å¹³é“ºæŒ‡çš„æ˜¯æ¯ä¸ªæ­£æ–¹å½¢éƒ½å¿…é¡»æœ‰ç“·ç –è¦†ç›–ã€‚ä¸¤ä¸ªå¹³é“ºä¸åŒï¼Œå½“ä¸”ä»…å½“é¢æ¿ä¸Šæœ‰å››ä¸ªæ–¹å‘ä¸Šçš„ç›¸é‚»å•å…ƒä¸­çš„ä¸¤ä¸ªï¼Œä½¿å¾—æ°å¥½æœ‰ä¸€ä¸ªå¹³é“ºæœ‰ä¸€ä¸ªç“·ç –å æ®ä¸¤ä¸ªæ­£æ–¹å½¢ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1:</strong></p><p><img loading="lazy" src="../../../img/lc-domino1.jpg" class="img_ev3q"></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> n = 3<br><strong>è¾“å‡º:</strong> 5<br><strong>è§£é‡Š:</strong> äº”ç§ä¸åŒçš„æ–¹æ³•å¦‚ä¸Šæ‰€ç¤ºã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> n = 1<br><strong>è¾“å‡º:</strong> 1<br></code></pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= n &lt;= 1000</code></li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/domino-and-tromino-tiling/description/" target="_blank" rel="noopener noreferrer">790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯">2ã€æ€è·¯<a href="#2æ€è·¯" class="hash-link" aria-label="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åŠ¨æ€è§„åˆ’ï¼ŒæŒºéš¾æƒ³åˆ°</p><ul><li>åˆ—çš„çŠ¶æ€æœ‰4ä¸ªï¼š<code>æ— /ä¸Š/ä¸‹/æ»¡</code></li><li>çŠ¶æ€è½¬ç§»ä¹Ÿæœ‰4ä¸ªï¼š<ul><li><code>dp[i][0] = dp[i-1][3]</code></li><li><code>dp[i][1] = dp[i-1][0] + dp[i-1][2]</code></li><li><code>dp[i][2] = dp[i-1][0] + dp[i-1][1]</code></li><li><code>dp[i][3] = dp[i-1][0] + dp[i-1][1] + dp[i-1][2] + dp[i-1][3]</code></li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function numTilings(n: number): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // æ— /ä¸Š/ä¸‹/æ»¡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let M = 1e9 + 7, dp = [1, 0, 0, 1];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 2; i &lt;= n; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const d0 = dp[3];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const d1 = (dp[0] + dp[2]) % M;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const d2 = (dp[0] + dp[1]) % M;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const d3 = (dp[0] + dp[1] + dp[2] + dp[3]) % M;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        dp = [d0, d1, d2, d3];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return dp[3];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668317270-XZEDWj-image-88c9c6d9da5fc1e34ec55addcb36135f.png" width="889" height="199" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/åŠ¨æ€è§„åˆ’/">åŠ¨æ€è§„åˆ’</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/13/791.è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº/">791.è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-13T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ13æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 2 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <code>order</code> å’Œ <code>s</code> ã€‚<code>order</code> çš„æ‰€æœ‰å­—æ¯éƒ½æ˜¯ <strong>å”¯ä¸€</strong> çš„ï¼Œå¹¶ä¸”ä»¥å‰æŒ‰ç…§ä¸€äº›è‡ªå®šä¹‰çš„é¡ºåºæ’åºã€‚</p><p>å¯¹ <code>s</code> çš„å­—ç¬¦è¿›è¡Œç½®æ¢ï¼Œä½¿å…¶ä¸æ’åºçš„Â <code>order</code>Â ç›¸åŒ¹é…ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œå¦‚æœåœ¨Â <code>order</code>Â ä¸­çš„å­—ç¬¦ <code>x</code> å‡ºç°å­—ç¬¦ <code>y</code> ä¹‹å‰ï¼Œé‚£ä¹ˆåœ¨æ’åˆ—åçš„å­—ç¬¦ä¸²ä¸­ï¼Œ <code>x</code>Â ä¹Ÿåº”è¯¥å‡ºç°åœ¨ <code>y</code> ä¹‹å‰ã€‚</p><p>è¿”å› <em>æ»¡è¶³è¿™ä¸ªæ€§è´¨çš„ <code>s</code> çš„ä»»æ„ä¸€ç§æ’åˆ—Â </em>ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> order = &quot;cba&quot;, s = &quot;abcd&quot;<br><strong>è¾“å‡º:</strong> &quot;cbad&quot;<br><strong>è§£é‡Š:</strong> <br>â€œaâ€ã€â€œbâ€ã€â€œcâ€æ˜¯æŒ‰é¡ºåºå‡ºç°çš„ï¼Œæ‰€ä»¥â€œaâ€ã€â€œbâ€ã€â€œcâ€çš„é¡ºåºåº”è¯¥æ˜¯â€œcâ€ã€â€œbâ€ã€â€œaâ€ã€‚<br>å› ä¸ºâ€œdâ€ä¸æ˜¯æŒ‰é¡ºåºå‡ºç°çš„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥åœ¨è¿”å›çš„å­—ç¬¦ä¸²ä¸­çš„ä»»ä½•ä½ç½®ã€‚â€œdcbaâ€ã€â€œcdbaâ€ã€â€œcbdaâ€ä¹Ÿæ˜¯æœ‰æ•ˆçš„è¾“å‡ºã€‚</code></pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> order = &quot;cbafg&quot;, s = &quot;abcd&quot;<br><strong>è¾“å‡º:</strong> &quot;cbad&quot;<br></code></pre><p>Â </p><p><strong>æç¤º:</strong></p><ul><li><code>1 &lt;= order.length &lt;= 26</code></li><li><code>1 &lt;= s.length &lt;= 200</code></li><li><code>order</code>Â å’ŒÂ <code>s</code>Â ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li><li><code>order</code>Â ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ <strong>ä¸åŒ</strong></li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/custom-sort-string/description/" target="_blank" rel="noopener noreferrer">791. è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯">2ã€æ€è·¯<a href="#2æ€è·¯" class="hash-link" aria-label="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ•°é‡çº§æ¯”è¾ƒå° <code>order.length &lt;= 26</code>ï¼Œ<code>s.length &lt;= 200</code>ï¼Œç”¨ <code>Array.sort</code> å®ç°å°±è¡Œ</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function customSortString(o: string, s: string): string {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [...s].sort((a, b) =&gt; o.indexOf(a) - o.indexOf(b)).join(&#x27;&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668316390-HyBPsh-image-a97681823eafdbf43a28c67ff941ab7d.png" width="909" height="199" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å“ˆå¸Œè¡¨/">å“ˆå¸Œè¡¨</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å­—ç¬¦ä¸²/">å­—ç¬¦ä¸²</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ’åº/">æ’åº</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/10/864.è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„/">864.è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-10T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ10æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 5 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼Â <code>grid</code>Â ï¼Œå…¶ä¸­ï¼š</p><ul><li><font color="#c7254e"><font face="Menlo, Monaco, Consolas, Courier New, monospace"><span><span>&#x27;.&#x27;</span></span></font></font> ä»£è¡¨ä¸€ä¸ªç©ºæˆ¿é—´</li><li><font color="#c7254e"><font face="Menlo, Monaco, Consolas, Courier New, monospace"><span><span>&#x27;#&#x27;</span></span></font></font> ä»£è¡¨ä¸€å µå¢™</li><li><font color="#c7254e"><font face="Menlo, Monaco, Consolas, Courier New, monospace"><span><span>&#x27;@&#x27;</span></span></font></font>Â æ˜¯èµ·ç‚¹</li><li>å°å†™å­—æ¯ä»£è¡¨é’¥åŒ™</li><li>å¤§å†™å­—æ¯ä»£è¡¨é”</li></ul><p>æˆ‘ä»¬ä»èµ·ç‚¹å¼€å§‹å‡ºå‘ï¼Œä¸€æ¬¡ç§»åŠ¨æ˜¯æŒ‡å‘å››ä¸ªåŸºæœ¬æ–¹å‘ä¹‹ä¸€è¡Œèµ°ä¸€ä¸ªå•ä½ç©ºé—´ã€‚æˆ‘ä»¬ä¸èƒ½åœ¨ç½‘æ ¼å¤–é¢è¡Œèµ°ï¼Œä¹Ÿæ— æ³•ç©¿è¿‡ä¸€å µå¢™ã€‚å¦‚æœé€”ç»ä¸€ä¸ªé’¥åŒ™ï¼Œæˆ‘ä»¬å°±æŠŠå®ƒæ¡èµ·æ¥ã€‚é™¤éæˆ‘ä»¬æ‰‹é‡Œæœ‰å¯¹åº”çš„é’¥åŒ™ï¼Œå¦åˆ™æ— æ³•é€šè¿‡é”ã€‚</p><p>å‡è®¾ kÂ ä¸º é’¥åŒ™/é” çš„ä¸ªæ•°ï¼Œä¸”æ»¡è¶³Â <code>1 &lt;= kÂ &lt;= 6</code>ï¼Œå­—æ¯è¡¨ä¸­çš„å‰ <code>k</code>Â ä¸ªå­—æ¯åœ¨ç½‘æ ¼ä¸­éƒ½æœ‰è‡ªå·±å¯¹åº”çš„ä¸€ä¸ªå°å†™å’Œä¸€ä¸ªå¤§å†™å­—æ¯ã€‚æ¢è¨€ä¹‹ï¼Œæ¯ä¸ªé”æœ‰å”¯ä¸€å¯¹åº”çš„é’¥åŒ™ï¼Œæ¯ä¸ªé’¥åŒ™ä¹Ÿæœ‰å”¯ä¸€å¯¹åº”çš„é”ã€‚å¦å¤–ï¼Œä»£è¡¨é’¥åŒ™å’Œé”çš„å­—æ¯äº’ä¸ºå¤§å°å†™å¹¶æŒ‰å­—æ¯é¡ºåºæ’åˆ—ã€‚</p><p>è¿”å›è·å–æ‰€æœ‰é’¥åŒ™æ‰€éœ€è¦çš„ç§»åŠ¨çš„æœ€å°‘æ¬¡æ•°ã€‚å¦‚æœæ— æ³•è·å–æ‰€æœ‰é’¥åŒ™ï¼Œè¿”å›Â <code>-1</code>Â ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><img loading="lazy" src="../../../img/lc-keys2.jpg" class="img_ev3q"></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>grid = [&quot;@.a.#&quot;,&quot;###.#&quot;,&quot;b.A.B&quot;]<br><strong>è¾“å‡ºï¼š</strong>8<br><strong>è§£é‡Šï¼š</strong>ç›®æ ‡æ˜¯è·å¾—æ‰€æœ‰é’¥åŒ™ï¼Œè€Œä¸æ˜¯æ‰“å¼€æ‰€æœ‰é”ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p><img loading="lazy" src="../../../img/lc-key2.jpg" class="img_ev3q"></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>grid = [&quot;@..aA&quot;,&quot;..B#.&quot;,&quot;....b&quot;]<br><strong>è¾“å‡ºï¼š</strong>6<br></code></pre><p><strong>ç¤ºä¾‹ 3:</strong></p><img loading="lazy" alt="" src="../../../img/lc-keys3.jpg" class="img_ev3q"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> grid = [&quot;@Aa&quot;]<br><strong>è¾“å‡º:</strong> -1</code></pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>m == grid.length</code></li><li><code>n == grid[i].length</code></li><li><code>1 &lt;= m, n &lt;= 30</code></li><li><code>grid[i][j]</code>Â åªå«æœ‰Â <code>&#x27;.&#x27;</code>,Â <code>&#x27;#&#x27;</code>,Â <code>&#x27;@&#x27;</code>,Â <code>&#x27;a&#x27;-</code><code>&#x27;f</code><code>&#x27;</code>Â ä»¥åŠÂ <code>&#x27;A&#x27;-&#x27;F&#x27;</code></li><li>é’¥åŒ™çš„æ•°ç›®èŒƒå›´æ˜¯Â <code>[1, 6]</code>Â </li><li>æ¯ä¸ªé’¥åŒ™éƒ½å¯¹åº”ä¸€ä¸ª <strong>ä¸åŒ</strong> çš„å­—æ¯</li><li>æ¯ä¸ªé’¥åŒ™æ­£å¥½æ‰“å¼€ä¸€ä¸ªå¯¹åº”çš„é”</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/shortest-path-to-get-all-keys/description/" target="_blank" rel="noopener noreferrer">864. è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯">2ã€æ€è·¯<a href="#2æ€è·¯" class="hash-link" aria-label="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å†™è¿‡æœ€é•¿çš„ä»£ç ï¼Œå¿ƒæ€å´©äº†</p><p>æ€è·¯ï¼š</p><ul><li>å›æº¯ï¼Œå¯¹æ‰€æœ‰é’¥åŒ™è¿›è¡Œæ’åˆ—ç»„åˆï¼Œå¾—åˆ°æ‰€æœ‰è·¯å¾„ï¼ˆä¸æ ¡éªŒè·¯å¾„æ˜¯å¦è¿é€šï¼‰</li><li>éå†æ‰€æœ‰è·¯å¾„ï¼Œç´¯è®¡ä»èµ·ç‚¹ç»è¿‡æ‰€æœ‰é’¥åŒ™éœ€è¦çš„æ­¥æ•°ï¼Œç»“æœå–æœ€å°æ­¥æ•°</li><li>å¹¿æœè®¡ç®—ä¸¤æŠŠé’¥åŒ™ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼ˆéœ€è¦æ ¡éªŒè·¯å¾„æ˜¯å¦è¿é€šï¼‰</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function shortestPathAllKeys(grid: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const m = grid.length, n = grid[0].length;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const M = 10007;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const encode = (i: number, j: number) =&gt; i * M + j;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const decode = (d: number) =&gt; [(d / M) &gt;&gt; 0, d % M];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let start = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const keys: number[] = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; m; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = 0; j &lt; n; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (grid[i][j] === &quot;@&quot;) start = encode(i, j);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (grid[i][j] &gt;= &quot;a&quot; &amp;&amp; grid[i][j] &lt;= &quot;f&quot;) keys.push(encode(i, j));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // å¯»æ‰¾ä¸¤æŠŠé’¥åŒ™ä¹‹é—´çš„æœ€çŸ­è·¯å¾„</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function bfs(source: number, target: number, visited: Set&lt;number&gt;, foundKeys: Set&lt;string&gt;): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let queue = [source];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const [ti, tj] = decode(target);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let step = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        while (queue.length) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const nextQueue = new Set&lt;number&gt;();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            for (const q of queue) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (visited.has(q)) continue;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                visited.add(q);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                const [qi, qj] = decode(q);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                const dirs = [[qi, qj + 1], [qi, qj - 1], [qi + 1, qj], [qi - 1, qj],];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                for (const [i, j] of dirs) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    if (!grid[i] || !grid[i][j] || grid[i][j] === &quot;#&quot;) continue;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    if (grid[i][j] &gt;= &quot;A&quot; &amp;&amp; grid[i][j] &lt;= &quot;F&quot; &amp;&amp; !foundKeys.has(grid[i][j].toLowerCase())) continue;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    if (i === ti &amp;&amp; j === tj) return step;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    nextQueue.add(encode(i, j));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            step++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            queue = [...nextQueue];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // éå†æ‰€æœ‰è·¯å¾„ï¼Œç´¯è®¡ä»èµ·ç‚¹ç»è¿‡æ‰€æœ‰é’¥åŒ™éœ€è¦çš„æ­¥æ•°ï¼Œç»“æœå–æœ€å°æ­¥æ•°</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let res = Infinity;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function calcSteps(path: Set&lt;number&gt;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let step = 0, source = start, foundKeys = new Set&lt;string&gt;();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const p of path) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const st = bfs(source, p, new Set(), foundKeys);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            step += st;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!st || step &gt;= res) return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const [pi, pj] = decode(p);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            foundKeys.add(grid[pi][pj]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            source = p;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (step &lt; res) res = step;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // å¯¹é’¥åŒ™è¿›è¡Œæ’åˆ—ç»„åˆ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function dfs(path: Set&lt;number&gt;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const k of keys) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (path.has(k)) continue;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            path.add(k);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            dfs(path);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (path.size === keys.length) calcSteps(path);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            path.delete(k);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    dfs(new Set());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res === Infinity ? -1 : res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">!</mo><mo>âˆ—</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(k!*mn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">mn</span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(mn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">mn</span><span class="mclose">)</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1668078530-biAQkG-image-a53d0729ea3be82b7c827b5f1a6d127d.png" width="1688" height="348" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/ä½è¿ç®—/">ä½è¿ç®—</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å¹¿åº¦ä¼˜å…ˆæœç´¢/">å¹¿åº¦ä¼˜å…ˆæœç´¢</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°ç»„/">æ•°ç»„</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/çŸ©é˜µ/">çŸ©é˜µ</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/09/764.æœ€å¤§åŠ å·æ ‡å¿—/">764.æœ€å¤§åŠ å·æ ‡å¿—</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-09T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ9æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨ä¸€ä¸ª <code>n x n</code> çš„çŸ©é˜µÂ <code>grid</code>Â ä¸­ï¼Œé™¤äº†åœ¨æ•°ç»„Â <code>mines</code>Â ä¸­ç»™å‡ºçš„å…ƒç´ ä¸ºÂ <code>0</code>ï¼Œå…¶ä»–æ¯ä¸ªå…ƒç´ éƒ½ä¸ºÂ <code>1</code>ã€‚<code>mines[i] = [x<sub>i</sub>, y<sub>i</sub>]</code>è¡¨ç¤ºÂ <code>grid[x<sub>i</sub>][y<sub>i</sub>] == 0</code></p><p>è¿”å› <em>Â </em><code>grid</code><em> ä¸­åŒ…å«Â <code>1</code>Â çš„æœ€å¤§çš„ <strong>è½´å¯¹é½</strong> åŠ å·æ ‡å¿—çš„é˜¶æ•°</em> ã€‚å¦‚æœæœªæ‰¾åˆ°åŠ å·æ ‡å¿—ï¼Œåˆ™è¿”å› <code>0</code> ã€‚</p><p>ä¸€ä¸ªÂ <code>k</code>Â é˜¶ç”±Â <em><code>1</code></em>Â ç»„æˆçš„ <strong>â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—</strong> å…·æœ‰ä¸­å¿ƒç½‘æ ¼Â <code>grid[r][c] == 1</code>Â ï¼Œä»¥åŠ4ä¸ªä»ä¸­å¿ƒå‘ä¸Šã€å‘ä¸‹ã€å‘å·¦ã€å‘å³å»¶ä¼¸ï¼Œé•¿åº¦ä¸ºÂ <code>k-1</code>ï¼Œç”±Â <code>1</code>Â ç»„æˆçš„è‡‚ã€‚æ³¨æ„ï¼Œåªæœ‰åŠ å·æ ‡å¿—çš„æ‰€æœ‰ç½‘æ ¼è¦æ±‚ä¸º <code>1</code> ï¼Œåˆ«çš„ç½‘æ ¼å¯èƒ½ä¸º <code>0</code> ä¹Ÿå¯èƒ½ä¸º <code>1</code> ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><img loading="lazy" src="https://assets.leetcode.com/uploads/2021/06/13/plus1-grid.jpg" class="img_ev3q"></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> n = 5, mines = [[4, 2]]<br><strong>è¾“å‡º:</strong> 2<br><strong>è§£é‡Š: </strong>åœ¨ä¸Šé¢çš„ç½‘æ ¼ä¸­ï¼Œæœ€å¤§åŠ å·æ ‡å¿—çš„é˜¶åªèƒ½æ˜¯2ã€‚ä¸€ä¸ªæ ‡å¿—å·²åœ¨å›¾ä¸­æ ‡å‡ºã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p><img loading="lazy" src="../../../img/plus2-grid.jpg" class="img_ev3q"></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥:</strong> n = 1, mines = [[0, 0]]<br><strong>è¾“å‡º:</strong> 0<br><strong>è§£é‡Š: </strong>æ²¡æœ‰åŠ å·æ ‡å¿—ï¼Œè¿”å› 0 ã€‚<br></code></pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= n &lt;= 500</code></li><li><code>1 &lt;= mines.length &lt;= 5000</code></li><li><code>0 &lt;= x<sub>i</sub>, y<sub>i</sub>Â &lt; n</code></li><li>æ¯ä¸€å¯¹Â <code>(x<sub>i</sub>, y<sub>i</sub>)</code>Â éƒ½ <strong>ä¸é‡å¤</strong>â€‹â€‹â€‹â€‹â€‹â€‹â€‹</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/largest-plus-sign/description/" target="_blank" rel="noopener noreferrer">764. æœ€å¤§åŠ å·æ ‡å¿—</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2æ€è·¯">2ã€æ€è·¯<a href="#2æ€è·¯" class="hash-link" aria-label="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥" title="2ã€æ€è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æš´åŠ›ï¼šéå†çŸ©é˜µ <code>grid</code>ï¼ŒæŠŠæ¯ä¸ªç½‘æ ¼å½“æˆä¸­å¿ƒï¼Œè®¡ç®—åŠ å·æ ‡å¿—çš„æœ€å¤§é˜¶æ•° <code>k</code></li><li>å“ˆå¸Œï¼šæŠŠ <code>0</code> ç½‘æ ¼çš„åæ ‡è½¬æ¢æˆå“ˆå¸Œè¡¨é™ä½æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦</li><li>å‰ªæï¼šéå†è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡å½“å‰æ±‚å¾—çš„æœ€å¤§é˜¶æ•° <code>k</code> è¿›ä¸€æ­¥ç¼©å°éå†èŒƒå›´</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3code">3ã€Code<a href="#3code" class="hash-link" aria-label="3ã€Codeçš„ç›´æ¥é“¾æ¥" title="3ã€Codeçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function orderOfLargestPlusSign(n: number, mines: number[][]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const M = 10007, hash = (x: number, y: number) =&gt; x * M + y;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const set = new Set(mines.map(([x, y]) =&gt; hash(x, y)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let k = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 0; i &lt; n - k; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = k; i &gt;= k &amp;&amp; j &lt; n - k; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            for (let l = 0; l &lt; n / 2; l++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (i &lt; l || j &lt; l || i + l &gt;= n || j + l &gt;= n) break;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (set.has(hash(i, j + l)) || set.has(hash(i, j - l)) || set.has(hash(i + l, j)) || set.has(hash(i - l, j))) break;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                k = Math.max(k, l + 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return k;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4å¤æ‚åº¦">4ã€å¤æ‚åº¦<a href="#4å¤æ‚åº¦" class="hash-link" aria-label="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥" title="4ã€å¤æ‚åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></span>ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>s</mi><mi mathvariant="normal">.</mi><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">m=mines.length</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal">min</span><span class="mord mathnormal">es</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span></span></span></span></span></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5æ‰§è¡Œç»“æœ">5ã€æ‰§è¡Œç»“æœ<a href="#5æ‰§è¡Œç»“æœ" class="hash-link" aria-label="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥" title="5ã€æ‰§è¡Œç»“æœçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/assets/images/1667966262-FHmFxq-image-3534ec10e23d11aa7b4854852ad0ac4d.png" width="1512" height="362" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°ç»„/">æ•°ç»„</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/åŠ¨æ€è§„åˆ’/">åŠ¨æ€è§„åˆ’</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/08/1684.ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®/">1684.ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-08T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ8æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 2 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç»™ä½ ä¸€ä¸ªç”±ä¸åŒå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²Â <code>allowed</code>Â å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„Â <code>words</code>Â ã€‚å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦éƒ½åœ¨ <code>allowed</code>Â ä¸­ï¼Œå°±ç§°è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ <strong>ä¸€è‡´å­—ç¬¦ä¸² </strong>ã€‚</p><p>è¯·ä½ è¿”å›Â <code>words</code>Â æ•°ç»„ä¸­Â <strong>ä¸€è‡´å­—ç¬¦ä¸²</strong> çš„æ•°ç›®ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><b>è¾“å…¥ï¼š</b>allowed = &quot;ab&quot;, words = [&quot;ad&quot;,&quot;bd&quot;,&quot;aaab&quot;,&quot;baa&quot;,&quot;badab&quot;]<br><b>è¾“å‡ºï¼š</b>2<br><b>è§£é‡Šï¼š</b>å­—ç¬¦ä¸² &quot;aaab&quot; å’Œ &quot;baa&quot; éƒ½æ˜¯ä¸€è‡´å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒä»¬åªåŒ…å«å­—ç¬¦ &#x27;a&#x27; å’Œ &#x27;b&#x27; ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><b>è¾“å…¥ï¼š</b>allowed = &quot;abc&quot;, words = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;ab&quot;,&quot;ac&quot;,&quot;bc&quot;,&quot;abc&quot;]<br><b>è¾“å‡ºï¼š</b>7<br><b>è§£é‡Šï¼š</b>æ‰€æœ‰å­—ç¬¦ä¸²éƒ½æ˜¯ä¸€è‡´çš„ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><b>è¾“å…¥ï¼š</b>allowed = &quot;cad&quot;, words = [&quot;cc&quot;,&quot;acd&quot;,&quot;b&quot;,&quot;ba&quot;,&quot;bac&quot;,&quot;bad&quot;,&quot;ac&quot;,&quot;d&quot;]<br><b>è¾“å‡ºï¼š</b>4<br><b>è§£é‡Šï¼š</b>å­—ç¬¦ä¸² &quot;cc&quot;ï¼Œ&quot;acd&quot;ï¼Œ&quot;ac&quot; å’Œ &quot;d&quot; æ˜¯ä¸€è‡´å­—ç¬¦ä¸²ã€‚<br></code></pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= words.length &lt;= 10<sup>4</sup></code></li><li><code>1 &lt;= allowed.length &lt;=<sup> </sup>26</code></li><li><code>1 &lt;= words[i].length &lt;= 10</code></li><li><code>allowed</code>Â ä¸­çš„å­—ç¬¦ <strong>äº’ä¸ç›¸åŒ</strong>Â ã€‚</li><li><code>words[i]</code> å’ŒÂ <code>allowed</code>Â åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/count-the-number-of-consistent-strings/description/" target="_blank" rel="noopener noreferrer">1684. ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®</a></p></blockquote><p>[<!-- -->TOC]</p><h1>æ€è·¯</h1><p>reduce è·Ÿ for of è€—è´¹çš„æ—¶é—´ç©ºé—´å·®è·è¿˜æŒºå¤§</p><h1>Code - for of</h1><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function countConsistentStrings(allowed: string, words: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const dict = new Set(allowed);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let res = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loop: for (const s of words) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const c of s) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!dict.has(c)) continue loop;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res++;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image.png" src="/assets/images/1667872347-pBpBlZ-image-e4a428dc5b400e3a6c3fd731f2d87de3.png" width="1616" height="376" class="img_ev3q"></p><h1>Code - reduce</h1><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function countConsistentStrings(allowed: string, words: string[]): number {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const dict = new Set(allowed);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return words.reduce((a, s) =&gt; a + +([].every.call(s, (c) =&gt; dict.has(c))), 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image.png" src="/assets/images/1667872378-HSPaHP-image-064071d80b28f1d80307ed4cb4daf48c.png" width="1584" height="354" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/ä½è¿ç®—/">ä½è¿ç®—</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ•°ç»„/">æ•°ç»„</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å“ˆå¸Œè¡¨/">å“ˆå¸Œè¡¨</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å­—ç¬¦ä¸²/">å­—ç¬¦ä¸²</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/07/816.æ¨¡ç³Šåæ ‡/">816.æ¨¡ç³Šåæ ‡</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-07T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ7æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æˆ‘ä»¬æœ‰ä¸€äº›äºŒç»´åæ ‡ï¼Œå¦‚Â <code>&quot;(1, 3)&quot;</code>Â æˆ–Â <code>&quot;(2, 0.5)&quot;</code>ï¼Œç„¶åæˆ‘ä»¬ç§»é™¤æ‰€æœ‰é€—å·ï¼Œå°æ•°ç‚¹å’Œç©ºæ ¼ï¼Œå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²<code>S</code>ã€‚è¿”å›æ‰€æœ‰å¯èƒ½çš„åŸå§‹å­—ç¬¦ä¸²åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚</p><p>åŸå§‹çš„åæ ‡è¡¨ç¤ºæ³•ä¸ä¼šå­˜åœ¨å¤šä½™çš„é›¶ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°ç±»ä¼¼äº&quot;00&quot;, &quot;0.0&quot;, &quot;0.00&quot;, &quot;1.0&quot;, &quot;001&quot;, &quot;00.01&quot;æˆ–ä¸€äº›å…¶ä»–æ›´å°çš„æ•°æ¥è¡¨ç¤ºåæ ‡ã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå°æ•°ç‚¹å‰è‡³å°‘å­˜åœ¨ä¸€ä¸ªæ•°ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šå‡ºç°â€œ.1â€å½¢å¼çš„æ•°å­—ã€‚</p><p>æœ€åè¿”å›çš„åˆ—è¡¨å¯ä»¥æ˜¯ä»»æ„é¡ºåºçš„ã€‚è€Œä¸”æ³¨æ„è¿”å›çš„ä¸¤ä¸ªæ•°å­—ä¸­é—´ï¼ˆé€—å·ä¹‹åï¼‰éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</p><p>Â </p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>ç¤ºä¾‹ 1:</strong><br><strong>è¾“å…¥:</strong> &quot;(123)&quot;<br><strong>è¾“å‡º:</strong> [&quot;(1, 23)&quot;, &quot;(12, 3)&quot;, &quot;(1.2, 3)&quot;, &quot;(1, 2.3)&quot;]<br></code></pre><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>ç¤ºä¾‹ 2:</strong><br><strong>è¾“å…¥:</strong> &quot;(00011)&quot;<br><strong>è¾“å‡º:</strong> Â [&quot;(0.001, 1)&quot;, &quot;(0, 0.011)&quot;]<br><strong>è§£é‡Š:</strong> <br>0.0, 00, 0001 æˆ– 00.01 æ˜¯ä¸è¢«å…è®¸çš„ã€‚<br></code></pre><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>ç¤ºä¾‹ 3:</strong><br><strong>è¾“å…¥:</strong> &quot;(0123)&quot;<br><strong>è¾“å‡º:</strong> [&quot;(0, 123)&quot;, &quot;(0, 12.3)&quot;, &quot;(0, 1.23)&quot;, &quot;(0.1, 23)&quot;, &quot;(0.1, 2.3)&quot;, &quot;(0.12, 3)&quot;]<br></code></pre><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>ç¤ºä¾‹ 4:</strong><br><strong>è¾“å…¥:</strong> &quot;(100)&quot;<br><strong>è¾“å‡º:</strong> [(10, 0)]<br><strong>è§£é‡Š:</strong> <br>1.0 æ˜¯ä¸è¢«å…è®¸çš„ã€‚<br></code></pre><p>Â </p><p><strong>æç¤º:</strong></p><ul><li><code>4 &lt;= S.length &lt;= 12</code>.</li><li><code>S[0]</code> = &quot;(&quot;, <code>S[S.length - 1]</code> = &quot;)&quot;, ä¸”å­—ç¬¦ä¸²Â <code>S</code>Â ä¸­çš„å…¶ä»–å…ƒç´ éƒ½æ˜¯æ•°å­—ã€‚</li></ul><p>Â </p><blockquote><p>Problem: <a href="https://leetcode.cn/problems/ambiguous-coordinates/description/" target="_blank" rel="noopener noreferrer">816. æ¨¡ç³Šåæ ‡</a></p></blockquote><p>[<!-- -->TOC]</p><h1>æ€è·¯</h1><ul><li>å‰”é™¤åŸå§‹å­—ç¬¦ä¸² <code>s</code> ä¸­çš„æ‹¬å·</li><li>å°† <code>s</code> æ‹†åˆ†æˆä¸¤ä¸ªå­—ç¬¦ä¸² <code>s1</code>ã€<code>s2</code></li><li>åˆ†åˆ«å¯¹ <code>s1</code>ã€<code>s2</code> æ·»åŠ å°æ•°ç‚¹ï¼Œå¾—åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„ <code>nums1</code>ã€<code>nums2</code></li><li>ç»„åˆ <code>nums1</code>ã€<code>nums2</code> ä¸­çš„å­—ç¬¦ä¸²å¾—åˆ°æœ€ç»ˆç»“æœ</li></ul><h1>å¤æ‚åº¦</h1><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li></ul><h1>Code</h1><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function ambiguousCoordinates(s: string): string[] {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    s = s.slice(1, s.length - 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const res = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    function insertDot(str: string) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const nums = /^0\d/.test(str) ? [] : [str];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (let j = 1; j &lt; str.length; j++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const ns = str.slice(0, j) + &#x27;.&#x27; + str.slice(j);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!/^0\d|0$/.test(ns)) nums.push(ns);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return nums;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (let i = 1; i &lt; s.length; i++) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const s1 = s.slice(0, i), s2 = s.slice(i);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const nums1 = insertDot(s1), nums2 = insertDot(s2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        for (const ns1 of nums1) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            for (const ns2 of nums2) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                res.push(`(${ns1}, ${ns2})`);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return res;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å­—ç¬¦ä¸²/">å­—ç¬¦ä¸²</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å›æº¯/">å›æº¯</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/algorithm/2022/11/06/1106.è§£æå¸ƒå°”è¡¨è¾¾å¼/">1106.è§£æå¸ƒå°”è¡¨è¾¾å¼</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-06T00:00:00.000Z" itemprop="datePublished">2022å¹´11æœˆ6æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Whilconn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Whilconn</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1é¢˜å¹²">1ã€é¢˜å¹²<a href="#1é¢˜å¹²" class="hash-link" aria-label="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥" title="1ã€é¢˜å¹²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><strong>å¸ƒå°”è¡¨è¾¾å¼</strong> æ˜¯è®¡ç®—ç»“æœä¸æ˜¯ <code>true</code> å°±æ˜¯ <code>false</code> çš„è¡¨è¾¾å¼ã€‚æœ‰æ•ˆçš„è¡¨è¾¾å¼éœ€éµå¾ªä»¥ä¸‹çº¦å®šï¼š</p><ul><li><code>&#x27;t&#x27;</code>ï¼Œè¿ç®—ç»“æœä¸º <code>true</code></li><li><code>&#x27;f&#x27;</code>ï¼Œè¿ç®—ç»“æœä¸º <code>false</code></li><li><code>&#x27;!(subExpr)&#x27;</code>ï¼Œè¿ç®—è¿‡ç¨‹ä¸ºå¯¹å†…éƒ¨è¡¨è¾¾å¼ <code>subExpr</code> è¿›è¡Œ <strong>é€»è¾‘é</strong>ï¼ˆNOTï¼‰è¿ç®—</li><li><code>&#x27;&amp;(subExpr<sub>1</sub>, subExpr<sub>2</sub>, ..., subExpr<sub>n</sub>)&#x27;</code>ï¼Œè¿ç®—è¿‡ç¨‹ä¸ºå¯¹ 2 ä¸ªæˆ–ä»¥ä¸Šå†…éƒ¨è¡¨è¾¾å¼ <code>subExpr<sub>1</sub>, subExpr<sub>2</sub>, ..., subExpr<sub>n</sub></code> è¿›è¡Œ <strong>é€»è¾‘ä¸</strong>ï¼ˆANDï¼‰è¿ç®—</li><li><code>&#x27;|(subExpr<sub>1</sub>, subExpr<sub>2</sub>, ..., subExpr<sub>n</sub>)&#x27;</code>ï¼Œè¿ç®—è¿‡ç¨‹ä¸ºå¯¹ 2 ä¸ªæˆ–ä»¥ä¸Šå†…éƒ¨è¡¨è¾¾å¼ <code>subExpr<sub>1</sub>, subExpr<sub>2</sub>, ..., subExpr<sub>n</sub></code> è¿›è¡Œ <strong>é€»è¾‘æˆ–</strong>ï¼ˆORï¼‰è¿ç®—</li></ul><p>ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨è¿°çš„Â <a href="https://baike.baidu.com/item/%E5%B8%83%E5%B0%94%E8%A1%A8%E8%BE%BE%E5%BC%8F/1574380?fr=aladdin" target="_blank" rel="noopener noreferrer">å¸ƒå°”è¡¨è¾¾å¼</a> <code>expression</code>ï¼Œè¿”å›è¯¥å¼çš„è¿ç®—ç»“æœã€‚</p><p>é¢˜ç›®æµ‹è¯•ç”¨ä¾‹æ‰€ç»™å‡ºçš„è¡¨è¾¾å¼å‡ä¸ºæœ‰æ•ˆçš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œéµå¾ªä¸Šè¿°çº¦å®šã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>expression = &quot;&amp;(|(f))&quot;<br><strong>è¾“å‡ºï¼š</strong>false<br><strong>è§£é‡Šï¼š</strong><br>é¦–å…ˆï¼Œè®¡ç®— |(f) --&gt; f ï¼Œè¡¨è¾¾å¼å˜ä¸º &quot;&amp;(f)&quot; ã€‚<br>æ¥ç€ï¼Œè®¡ç®— &amp;(f) --&gt; f ï¼Œè¡¨è¾¾å¼å˜ä¸º &quot;f&quot; ã€‚<br>æœ€åï¼Œè¿”å› false ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>expression = &quot;|(f,f,f,t)&quot;<br><strong>è¾“å‡ºï¼š</strong>true<br><strong>è§£é‡Šï¼š</strong>è®¡ç®— (false OR false OR false OR true) ï¼Œç»“æœä¸º true ã€‚<br></code></pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><code class="codeBlockLines_e6Vv"><strong>è¾“å…¥ï¼š</strong>expression = &quot;!(&amp;(f,t))&quot;<br><strong>è¾“å‡ºï¼š</strong>true<br><strong>è§£é‡Šï¼š</strong><br>é¦–å…ˆï¼Œè®¡ç®— &amp;(f,t) --&gt; (false AND true) --&gt; false --&gt; f ï¼Œè¡¨è¾¾å¼å˜ä¸º &quot;!(f)&quot; ã€‚<br>æ¥ç€ï¼Œè®¡ç®— !(f) --&gt; NOT false --&gt; true ï¼Œè¿”å› true ã€‚<br></code></pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= expression.length &lt;= 2 * 10<sup>4</sup></code></li><li><code>expression[i]</code> ä¸º <code>&#x27;(&#x27;</code>ã€<code>&#x27;)&#x27;</code>ã€<code>&#x27;&amp;&#x27;</code>ã€<code>&#x27;|&#x27;</code>ã€<code>&#x27;!&#x27;</code>ã€<code>&#x27;t&#x27;</code>ã€<code>&#x27;f&#x27;</code> å’Œ <code>&#x27;,&#x27;</code> ä¹‹ä¸€</li></ul><blockquote><p>Problem: <a href="https://leetcode.cn/problems/parsing-a-boolean-expression/description/" target="_blank" rel="noopener noreferrer">1106. è§£æå¸ƒå°”è¡¨è¾¾å¼</a></p></blockquote><p>[<!-- -->TOC]</p><h1>æ€è·¯</h1><p>ä½¿ç”¨æ­£åˆ™ä¸æ–­æå–æœ€å°è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—ï¼Œå†å°†è¯¥è¡¨è¾¾å¼æ›¿æ¢ä¸ºè®¡ç®—ç»“æœã€‚å…¶ä¸­æœ€å°è¡¨è¾¾å¼å°±æ˜¯é¢˜å¹²ä¸­ç»™å‡ºçš„3ç§æƒ…å†µï¼š<code>&quot;!(expr)&quot;</code>ï¼Œ<code>&quot;&amp;(expr1,expr2,...)&quot;</code>ï¼Œ<code>&quot;|(expr1,expr2,...)&quot;</code></p><h1>ä»£ç </h1><div class="language-TypeScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-TypeScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function parseBoolExpr(exp: string): boolean {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const T = &quot;t&quot;, F = &quot;f&quot;, reg = /.\([^()]+\)/g;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    while (reg.test(exp)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        exp = exp.replace(reg, (m) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (m[0] === &quot;&amp;&quot;) return m.includes(F) ? F : T;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (m[0] === &quot;|&quot;) return m.includes(T) ? T : F;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return m.includes(T) ? F : T;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return exp.includes(T);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>ç»“æœ</h1><p><img loading="lazy" alt="image.png" src="/assets/images/1667728233-zxPoXv-image-b4ae9ddd6f7c74132776e9e0fa5c3023.png" width="1568" height="376" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/æ ˆ/">æ ˆ</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/é€’å½’/">é€’å½’</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/å­—ç¬¦ä¸²/">å­—ç¬¦ä¸²</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="åšæ–‡åˆ—è¡¨åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/algorithm/page/5/"><div class="pagination-nav__label">è¾ƒæ–°çš„åšæ–‡</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/algorithm/page/7/"><div class="pagination-nav__label">è¾ƒæ—§çš„åšæ–‡</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Whilconn. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.863ee50e.js"></script>
<script src="/assets/js/main.f18428f3.js"></script>
</body>
</html>